module.exports=[84254,25426,93321,80074,67925,14683,22028,a=>{"use strict";let b,c;var d,e=a.i(1269);let f=(0,e.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>f],84254);let g=(0,e.default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>g],25426);var h=a.i(46786),i=a.i(22734);let j=new Map,k=new Map,l=Symbol("OriginError"),m={};class n extends Promise{constructor(a,b,c,d,e={}){let f,g;super((a,b)=>{f=a,g=b}),this.tagged=Array.isArray(a.raw),this.strings=a,this.args=b,this.handler=c,this.canceller=d,this.options=e,this.state=null,this.statement=null,this.resolve=a=>(this.active=!1,f(a)),this.reject=a=>(this.active=!1,g(a)),this.active=!1,this.cancelled=null,this.executed=!1,this.signature="",this[l]=this.handler.debug?Error():this.tagged&&function(a){if(j.has(a))return j.get(a);let b=Error.stackTraceLimit;return Error.stackTraceLimit=4,j.set(a,Error()),Error.stackTraceLimit=b,j.get(a)}(this.strings)}get origin(){return(this.handler.debug?this[l].stack:this.tagged&&k.has(this.strings)?k.get(this.strings):k.set(this.strings,this[l].stack).get(this.strings))||""}static get[Symbol.species](){return Promise}cancel(){return this.canceller&&(this.canceller(this),this.canceller=null)}simple(){return this.options.simple=!0,this.options.prepare=!1,this}async readable(){return this.simple(),this.streaming=!0,this}async writable(){return this.simple(),this.streaming=!0,this}cursor(a=1,b){let c;return(this.options.simple=!1,"function"==typeof a&&(b=a,a=1),this.cursorRows=a,"function"==typeof b)?(this.cursorFn=b,this):{[Symbol.asyncIterator]:()=>({next:()=>{if(this.executed&&!this.active)return{done:!0};c&&c();let a=new Promise((a,b)=>{this.cursorFn=b=>(a({value:b,done:!1}),new Promise(a=>c=a)),this.resolve=()=>(this.active=!1,a({done:!0})),this.reject=a=>(this.active=!1,b(a))});return this.execute(),a},return:()=>(c&&c(m),{done:!0})})}}describe(){return this.options.simple=!1,this.onlyDescribe=this.options.prepare=!0,this}stream(){throw Error(".stream has been renamed to .forEach")}forEach(a){return this.forEachFn=a,this.handle(),this}raw(){return this.isRaw=!0,this}values(){return this.isRaw="values",this}async handle(){!this.executed&&(this.executed=!0)&&await 1&&this.handler(this)}execute(){return this.handle(),this}then(){return this.handle(),super.then.apply(this,arguments)}catch(){return this.handle(),super.catch.apply(this,arguments)}finally(){return this.handle(),super.finally.apply(this,arguments)}}class o extends Error{constructor(a){super(a.message),this.name=this.constructor.name,Object.assign(this,a)}}let p=function a(b,c,d){let{host:e,port:f}=d||c,g=Object.assign(Error("write "+b+" "+(c.path||e+":"+f)),{code:b,errno:b,address:c.path||e},c.path?{}:{port:f});return Error.captureStackTrace(g,a),g},q=function a(b){let c=new o(b);return Error.captureStackTrace(c,a),c},r=function a(b,c){let d=Object.assign(Error(b+": "+c),{code:b});return Error.captureStackTrace(d,a),d},s=function a(b){let c=Object.assign(Error(b+" (B) is not supported"),{code:"MESSAGE_NOT_SUPPORTED",name:b});return Error.captureStackTrace(c,a),c};class t{then(){G()}catch(){G()}finally(){G()}}class u extends t{constructor(a){super(),this.value=M(a)}}class v extends t{constructor(a,b,c){super(),this.value=a,this.type=b,this.array=c}}class w extends t{constructor(a,b){super(),this.first=a,this.rest=b}build(a,b,c,d){let e=F.map(([b,c])=>({fn:c,i:a.search(b)})).sort((a,b)=>a.i-b.i).pop();return -1===e.i?L(this.first,d):e.fn(this.first,this.rest,b,c,d)}}function x(a,b,c,d){let e=a instanceof v?a.value:a;if(void 0===e&&(a instanceof v?a.value=d.transform.undefined:e=a=d.transform.undefined,void 0===e))throw r("UNDEFINED_VALUE","Undefined values are not allowed");return"$"+c.push(a instanceof v?(b.push(a.value),a.array?a.array[a.type||N(a.value)]||a.type||function a(b){return Array.isArray(b)?a(b[0]):1009*("string"==typeof b)}(a.value):a.type):(b.push(a),N(a)))}let y=K({string:{to:25,from:null,serialize:a=>""+a},number:{to:0,from:[21,23,26,700,701],serialize:a=>""+a,parse:a=>+a},json:{to:114,from:[114,3802],serialize:a=>JSON.stringify(a),parse:a=>JSON.parse(a)},boolean:{to:16,from:16,serialize:a=>!0===a?"t":"f",parse:a=>"t"===a},date:{to:1184,from:[1082,1114,1184],serialize:a=>(a instanceof Date?a:new Date(a)).toISOString(),parse:a=>new Date(a)},bytea:{to:17,from:17,serialize:a=>"\\x"+Buffer.from(a).toString("hex"),parse:a=>Buffer.from(a.slice(2),"hex")}});function z(a,b,c,d,e,f){for(let g=1;g<a.strings.length;g++)b+=A(b,c,d,e,f)+a.strings[g],c=a.args[g];return b}function A(a,b,c,d,e){return b instanceof w?b.build(a,c,d,e):b instanceof n?B(b,c,d,e):b instanceof u?b.value:b&&b[0]instanceof n?b.reduce((a,b)=>a+" "+B(b,c,d,e),""):x(b,c,d,e)}function B(a,b,c,d){return a.fragment=!0,z(a,a.strings[0],a.args[0],b,c,d)}function C(a,b,c,d,e){return a.map(a=>"("+d.map(d=>A("values",a[d],b,c,e)).join(",")+")").join(",")}function D(a,b,c,d,e){let f=Array.isArray(a[0]),g=b.length?b.flat():Object.keys(f?a[0]:a);return C(f?a:[a],c,d,g,e)}function E(a,b,c,d,e){let f;return("string"==typeof a&&(a=[a].concat(b)),Array.isArray(a))?L(a,e):(b.length?b.flat():Object.keys(a)).map(b=>((f=a[b])instanceof n?B(f,c,d,e):f instanceof u?f.value:x(f,c,d,e))+" as "+M(e.transform.column.to?e.transform.column.to(b):b)).join(",")}let F=Object.entries({values:D,in:(...a)=>{let b=D(...a);return"()"===b?"(null)":b},select:E,as:E,returning:E,"\\(":E,update:(a,b,c,d,e)=>(b.length?b.flat():Object.keys(a)).map(b=>M(e.transform.column.to?e.transform.column.to(b):b)+"="+A("values",a[b],c,d,e)),insert(a,b,c,d,e){let f=b.length?b.flat():Object.keys(Array.isArray(a)?a[0]:a);return"("+L(f,e)+")values"+C(Array.isArray(a)?a:[a],c,d,f,e)}}).map(([a,b])=>[RegExp("((?:^|[\\s(])"+a+"(?:$|[\\s(]))(?![\\s\\S]*\\1)","i"),b]);function G(){throw r("NOT_TAGGED_CALL","Query not called as a tagged template literal")}let H=y.serializers,I=y.parsers,J=function(a){let b=K(a||{});return{serializers:Object.assign({},H,b.serializers),parsers:Object.assign({},I,b.parsers)}};function K(a){return Object.keys(a).reduce((b,c)=>(a[c].from&&[].concat(a[c].from).forEach(d=>b.parsers[d]=a[c].parse),a[c].serialize&&(b.serializers[a[c].to]=a[c].serialize,a[c].from&&[].concat(a[c].from).forEach(d=>b.serializers[d]=a[c].serialize)),b),{parsers:{},serializers:{}})}function L(a,{transform:{column:b}}){return a.map(a=>M(b.to?b.to(a):a)).join(",")}let M=function(a){return'"'+a.replace(/"/g,'""').replace(/\./g,'"."')+'"'},N=function a(b){return b instanceof v?b.type:b instanceof Date?1184:b instanceof Uint8Array?17:!0===b||!1===b?16:"bigint"==typeof b?20:Array.isArray(b)?a(b[0]):0},O=/\\/g,P=/"/g,Q=function a(b,c,d,e){if(!1===Array.isArray(b))return b;if(!b.length)return"{}";let f=b[0],g=1020===e?";":",";return Array.isArray(f)&&!f.type?"{"+b.map(b=>a(b,c,d,e)).join(g)+"}":"{"+b.map(a=>{if(void 0===a&&void 0===(a=d.transform.undefined))throw r("UNDEFINED_VALUE","Undefined values are not allowed");return null===a?"null":'"'+(c?c(a.type?a.value:a):""+a).replace(O,"\\\\").replace(P,'\\"')+'"'}).join(g)+"}"},R={i:0,char:null,str:"",quoted:!1,last:0},S=a=>{let b=a[0];for(let c=1;c<a.length;c++)b+="_"===a[c]?a[++c].toUpperCase():a[c];return b},T=a=>{let b=a[0].toUpperCase();for(let c=1;c<a.length;c++)b+="_"===a[c]?a[++c].toUpperCase():a[c];return b},U=a=>a.replace(/_/g,"-"),V=a=>a.replace(/([A-Z])/g,"_$1").toLowerCase(),W=a=>(a.slice(0,1)+a.slice(1).replace(/([A-Z])/g,"_$1")).toLowerCase(),X=a=>a.replace(/-/g,"_");function Y(a){return function b(c,d){return"object"==typeof c&&null!==c&&(114===d.type||3802===d.type)?Array.isArray(c)?c.map(a=>b(a,d)):Object.entries(c).reduce((c,[e,f])=>Object.assign(c,{[a(e)]:b(f,d)}),{}):c}}S.column={from:S},S.value={from:Y(S)},V.column={to:V};let Z={...S};Z.column.to=V,T.column={from:T},T.value={from:Y(T)},W.column={to:W};let $={...T};$.column.to=W,U.column={from:U},U.value={from:Y(U)},X.column={to:X};let _={...U};_.column.to=X;var aa=a.i(4446),ab=a.i(55004),ac=a.i(54799),ad=a.i(88947),ae=a.i(60438);class af extends Array{constructor(){super(),Object.defineProperties(this,{count:{value:null,writable:!0},state:{value:null,writable:!0},command:{value:null,writable:!0},columns:{value:null,writable:!0},statement:{value:null,writable:!0}})}static get[Symbol.species](){return Array}}let ag=function(a=[]){let b=a.slice(),c=0;return{get length(){return b.length-c},remove:a=>{let c=b.indexOf(a);return -1===c?null:(b.splice(c,1),a)},push:a=>(b.push(a),a),shift:()=>{let a=b[c++];return c===b.length?(c=0,b=[]):b[c-1]=void 0,a}}},ah=Buffer.allocUnsafe(256),ai=Object.assign(function(){return ai.i=0,ai},"BCcDdEFfHPpQSX".split("").reduce((a,b)=>{let c=b.charCodeAt(0);return a[b]=()=>(ah[0]=c,ai.i=5,ai),a},{}),{N:"\0",i:0,inc:a=>(ai.i+=a,ai),str(a){let b=Buffer.byteLength(a);return aj(b),ai.i+=ah.write(a,ai.i,b,"utf8"),ai},i16:a=>(aj(2),ah.writeUInt16BE(a,ai.i),ai.i+=2,ai),i32:(a,b)=>(b||0===b?ah.writeUInt32BE(a,b):(aj(4),ah.writeUInt32BE(a,ai.i),ai.i+=4),ai),z:a=>(aj(a),ah.fill(0,ai.i,ai.i+a),ai.i+=a,ai),raw:a=>(ah=Buffer.concat([ah.subarray(0,ai.i),a]),ai.i=ah.length,ai),end(a=1){ah.writeUInt32BE(ai.i-a,a);let b=ah.subarray(0,ai.i);return ai.i=0,ah=Buffer.allocUnsafe(256),b}});function aj(a){if(ah.length-ai.i<a){let b=ah,c=b.length;ah=Buffer.allocUnsafe(c+(c>>1)+a),b.copy(ah)}}let ak=function a(b,c={},{onopen:d=ar,onend:e=ar,onclose:f=ar}={}){let{ssl:g,max:h,user:i,host:j,port:k,database:l,parsers:o,transform:t,onnotice:u,onnotify:v,onparameter:w,max_pipeline:y,keep_alive:A,backoff:B,target_session_attrs:C}=b,D=ag(),E=al++,F={pid:null,secret:null},G=ax(aX,b.idle_timeout),H=ax(aX,b.max_lifetime),I=ax(function(){aV(p("CONNECT_TIMEOUT",b,J)),J.destroy()},b.connect_timeout),J=null,K,L=new af,M=Buffer.alloc(0),N=b.fetch_types,O={},P={},S=Math.random().toString(36).slice(2),T=1,U=0,V=0,W=0,X=0,Y=0,Z=0,$=0,_=null,ah=null,aj=!1,ak=null,at=null,ay=null,az=null,aA=null,aB=null,aC=null,aD=null,aE=null,aF=null,aG={queue:c.closed,idleTimer:G,connect(a){ay=a,aS()},terminate:aY,execute:aJ,cancel:aI,end:aX,count:0,id:E};return c.closed&&c.closed.push(aG),aG;async function aH(){let a;try{a=b.socket?await Promise.resolve(b.socket(b)):new aa.default.Socket}catch(a){aU(a);return}return a.on("error",aU),a.on("close",aZ),a.on("drain",aP),a}async function aI({pid:a,secret:b},c,d){try{K=ai().i32(16).i32(0x4d2162e).i32(a).i32(b).end(16),await aR(),J.once("error",d),J.once("close",c)}catch(a){d(a)}}function aJ(a){if(aj)return aW(a,p("CONNECTION_DESTROYED",b));if(!a.cancelled)try{var c;let d,e,f;return a.state=F,aE?D.push(a):(aE=a).active=!0,c=a,d=[],e=[],f=z(c,c.strings[0],c.args[0],d,e,b),c.tagged||c.args.forEach(a=>x(a,d,e,b)),c.prepare=b.prepare&&(!("prepare"in c.options)||c.options.prepare),c.string=f,c.signature=c.prepare&&e+f,c.onlyDescribe&&delete P[c.signature],c.parameters=c.parameters||d,c.prepared=c.prepare&&c.signature in P,c.describeFirst=c.onlyDescribe||d.length&&!c.prepared,c.statement=c.prepared?P[c.signature]:{string:f,types:e,name:c.prepare?S+T++:""},"function"==typeof b.debug&&b.debug(E,f,d,e),aM(function(a){var b;if(a.parameters.length>=65534)throw r("MAX_PARAMETERS_EXCEEDED","Max number of parameters (65534) exceeded");return a.options.simple?ai().Q().str(a.statement.string+ai.N).end():a.describeFirst?Buffer.concat([aK(a),an]):a.prepare?a.prepared?aL(a):Buffer.concat([aK(a),aL(a)]):(b=a,Buffer.concat([a7(b.statement.string,b.parameters,b.statement.types),aq,aL(b)]))}(a))&&!a.describeFirst&&!a.cursorFn&&D.length<y&&(!a.options.onexecute||a.options.onexecute(aG))}catch(a){return 0===D.length&&aM(am),aV(a),!0}}function aK(a){return Buffer.concat([a7(a.statement.string,a.parameters,a.statement.types,a.statement.name),function(a,b=""){return ai().D().str("S").str(b+ai.N).end()}("S",a.statement.name)])}function aL(a){return Buffer.concat([function(a,c,d="",e=""){let f,g;return ai().B().str(e+ai.N).str(d+ai.N).i16(0).i16(a.length),a.forEach((d,e)=>{if(null===d)return ai.i32(0xffffffff);g=c[e],a[e]=d=g in b.serializers?b.serializers[g](d):""+d,f=ai.i,ai.inc(4).str(d).i32(ai.i-f-4,f)}),ai.i16(0),ai.end()}(a.parameters,a.statement.types,a.statement.name,a.cursorName),a.cursorFn?a8("",a.cursorRows):ap])}function aM(a,b){return(aB=aB?Buffer.concat([aB,a]):Buffer.from(a),b||aB.length>=1024)?aN(b):(null===ah&&(ah=setImmediate(aN)),!0)}function aN(a){let b=J.write(aB,a);return null!==ah&&clearImmediate(ah),aB=ah=null,b}async function aO(){if(aM(ao),!await new Promise(a=>J.once("data",b=>a(83===b[0])))&&"prefer"===g)return aT();J.removeAllListeners(),(J=ab.default.connect({socket:J,servername:aa.default.isIP(J.host)?void 0:J.host,..."require"===g||"allow"===g||"prefer"===g?{rejectUnauthorized:!1}:"verify-full"===g?{}:"object"==typeof g?g:{}})).on("secureConnect",aT),J.on("error",aU),J.on("close",aZ),J.on("drain",aP)}function aP(){aE||d(aG)}function aQ(c){if(!ak||(ak.push(c),!((V-=c.length)>0)))for(M=ak?Buffer.concat(ak,Y-V):0===M.length?c:Buffer.concat([M,c],M.length+c.length);M.length>4;){if((Y=M.readUInt32BE(1))>=M.length){V=Y-M.length,ak=[M];break}try{!function(c,e=c[0]){(68===e?function(a){let b,c,d,e=7,f=aE.isRaw?Array(aE.statement.columns.length):{};for(let g=0;g<aE.statement.columns.length;g++)c=aE.statement.columns[g],b=a.readInt32BE(e),e+=4,d=-1===b?null:!0===aE.isRaw?a.subarray(e,e+=b):void 0===c.parser?a.toString("utf8",e,e+=b):!0===c.parser.array?c.parser(a.toString("utf8",e+1,e+=b)):c.parser(a.toString("utf8",e,e+=b)),aE.isRaw?f[g]=!0===aE.isRaw?d:t.value.from?t.value.from(d,c):d:f[c.name]=t.value.from?t.value.from(d,c):d;aE.forEachFn?aE.forEachFn(t.row.from?t.row.from(f):f,L):L[$++]=t.row.from?t.row.from(f):f}:100===e?function(a){aA&&(aA.push(a.subarray(5))||J.pause())}:65===e?function(a){if(!v)return;let b=9;for(;0!==a[b++];);v(a.toString("utf8",9,b-1),a.toString("utf8",b,a.length-1))}:83===e?function(a){let[c,d]=a.toString("utf8",5,a.length-1).split(ai.N);O[c]=d,b.parameters[c]!==d&&(b.parameters[c]=d,w&&w(c,d))}:90===e?function(c){if(aE&&aE.options.simple&&aE.resolve(at||L),aE=at=null,L=new af,I.cancel(),ay){if(C)if(!O.in_hot_standby||!O.default_transaction_read_only)return function(){let a=new n([`
      show transaction_read_only;
      select pg_catalog.pg_is_in_recovery()
    `],[],aJ,null,{simple:!0});a.resolve=([[a],[b]])=>{O.default_transaction_read_only=a.transaction_read_only,O.in_hot_standby=b.pg_is_in_recovery?"on":"off"},a.execute()}();else{var e,f;if(e=C,f=O,"read-write"===e&&"on"===f.default_transaction_read_only||"read-only"===e&&"off"===f.default_transaction_read_only||"primary"===e&&"on"===f.in_hot_standby||"standby"===e&&"off"===f.in_hot_standby||"prefer-standby"===e&&"off"===f.in_hot_standby&&b.host[X])return aY()}return N?(ay.reserve&&(ay=null),a5()):(ay&&!ay.reserve&&aJ(ay),b.shared.retries=X=0,void(ay=null))}for(;D.length&&(aE=D.shift())&&(aE.active=!0,aE.cancelled);)a(b).cancel(aE.state,aE.cancelled.resolve,aE.cancelled.reject);aE||(aG.reserved?aG.reserved.release||73!==c[5]?aG.reserved():az?aY():(aG.reserved=null,d(aG)):az?aY():d(aG))}:67===e?function(a){$=0;for(let b=a.length-1;b>0;b--)if(32===a[b]&&a[b+1]<58&&null===L.count&&(L.count=+a.toString("utf8",b+1,a.length-1)),a[b-1]>=65){L.command=a.toString("utf8",5,b),L.state=F;break}return(aF&&(aF(),aF=null),"BEGIN"!==L.command||1===h||aG.reserved)?aE.options.simple?a$():void(aE.cursorFn&&(L.count&&aE.cursorFn(L),aM(am)),aE.resolve(L)):aV(r("UNSAFE_TRANSACTION","Only use sql.begin, sql.reserved or max: 1"))}:50===e?a$:49===e?function(){aE.parsing=!1}:116===e?function(a){let b=a.readUInt16BE(5);for(let c=0;c<b;++c)aE.statement.types[c]||(aE.statement.types[c]=a.readUInt32BE(7+4*c));aE.prepare&&(P[aE.signature]=aE.statement),aE.describeFirst&&!aE.onlyDescribe&&(aM(aL(aE)),aE.describeFirst=!1)}:84===e?function(a){let b;L.command&&((at=at||[L]).push(L=new af),L.count=null,aE.statement.columns=null);let c=a.readUInt16BE(5),d=7;aE.statement.columns=Array(c);for(let e=0;e<c;++e){for(b=d;0!==a[d++];);let c=a.readUInt32BE(d),f=a.readUInt16BE(d+4),g=a.readUInt32BE(d+6);aE.statement.columns[e]={name:t.column.from?t.column.from(a.toString("utf8",b,d-1)):a.toString("utf8",b,d-1),parser:o[g],table:c,number:f,type:g},d+=18}if(L.statement=aE.statement,aE.onlyDescribe)return aE.resolve(aE.statement),aM(am)}:82===e?a_:110===e?function(){if(L.statement=aE.statement,L.statement.columns=[],aE.onlyDescribe)return aE.resolve(aE.statement),aM(am)}:75===e?function(a){F.pid=a.readUInt32BE(5),F.secret=a.readUInt32BE(9)}:69===e?function(a){var b,c;aE&&(aE.cursorFn||aE.describeFirst)&&aM(am);let d=q(au(a));aE&&aE.retried?aV(aE.retried):aE&&aE.prepared&&as.has(d.routine)?(b=aE,c=d,delete P[b.signature],b.retried=c,aJ(b)):aV(d)}:115===e?a6:51===e?function(){L.count&&aE.cursorFn(L),aE.resolve(L)}:71===e?function(){aA=new ad.default.Writable({autoDestroy:!0,write(a,b,c){J.write(ai().d().raw(a).end(),c)},destroy(a,b){b(a),J.write(ai().f().str(a+ai.N).end()),aA=null},final(a){J.write(ai().c().end()),aF=a}}),aE.resolve(aA)}:78===e?function(a){u?u(au(a)):console.log(au(a))}:72===e?function(){aA=new ad.default.Readable({read(){J.resume()}}),aE.resolve(aA)}:99===e?function(){aA&&aA.push(null),aA=null}:73===e?function(){}:86===e?function(){aV(s("FunctionCallResponse"))}:118===e?function(){aV(s("NegotiateProtocolVersion"))}:87===e?function(){aA=new ad.default.Duplex({autoDestroy:!0,read(){J.resume()},write(a,b,c){J.write(ai().d().raw(a).end(),c)},destroy(a,b){b(a),J.write(ai().f().str(a+ai.N).end()),aA=null},final(a){J.write(ai().c().end()),aF=a}}),aE.resolve(aA)}:function(a){console.error("Postgres.js : Unknown Message:",a[0])})(c)}(M.subarray(0,Y+1))}catch(a){aE&&(aE.cursorFn||aE.describeFirst)&&aM(am),aV(a)}M=M.subarray(Y+1),V=0,ak=null}}async function aR(){if(aj=!1,O={},J||(J=await aH()),J){if(I.start(),b.socket)return g?aO():aT();if(J.on("connect",g?aO:aT),b.path)return J.connect(b.path);J.ssl=g,J.connect(k[W],j[W]),J.host=j[W],J.port=k[W],W=(W+1)%k.length}}function aS(){setTimeout(aR,U?U+Z-ae.performance.now():0)}function aT(){try{P={},N=b.fetch_types,S=Math.random().toString(36).slice(2),T=1,H.start(),J.on("data",aQ),A&&J.setKeepAlive&&J.setKeepAlive(!0,1e3*A);let a=K||ai().inc(4).i16(3).z(2).str(Object.entries(Object.assign({user:i,database:l,client_encoding:"UTF8"},b.connection)).filter(([,a])=>a).map(([a,b])=>a+ai.N+b).join(ai.N)).z(2).end(0);aM(a)}catch(a){aU(a)}}function aU(a){if(aG.queue!==c.connecting||!b.host[X+1])for(aV(a);D.length;)aW(D.shift(),a)}function aV(a){aA&&(aA.destroy(a),aA=null),aE&&aW(aE,a),ay&&(aW(ay,a),ay=null)}function aW(a,c){if(a.reserve)return a.reject(c);c&&"object"==typeof c||(c=Error(c)),"query"in c||"parameters"in c||Object.defineProperties(c,{stack:{value:c.stack+a.origin.replace(/.*\n/,"\n"),enumerable:b.debug},query:{value:a.string,enumerable:b.debug},parameters:{value:a.parameters,enumerable:b.debug},args:{value:a.args,enumerable:b.debug},types:{value:a.statement&&a.statement.types,enumerable:b.debug}}),a.reject(c)}function aX(){return az||(aG.reserved||e(aG),aG.reserved||ay||aE||0!==D.length?az=new Promise(a=>aC=a):(aY(),new Promise(a=>J&&"closed"!==J.readyState?J.once("close",a):a())))}function aY(){aj=!0,(aA||aE||ay||D.length)&&aU(p("CONNECTION_DESTROYED",b)),clearImmediate(ah),J&&(J.removeListener("data",aQ),J.removeListener("connect",aT),"open"===J.readyState&&J.end(ai().X().end())),aC&&(aC(),az=aC=null)}async function aZ(a){if(M=Buffer.alloc(0),V=0,ak=null,clearImmediate(ah),J.removeListener("data",aQ),J.removeListener("connect",aT),G.cancel(),H.cancel(),I.cancel(),J.removeAllListeners(),J=null,ay)return aS();!a&&(aE||D.length)&&aU(p("CONNECTION_CLOSED",b,J)),U=ae.performance.now(),a&&b.shared.retries++,Z=("function"==typeof B?B(b.shared.retries):B)*1e3,f(aG,p("CONNECTION_CLOSED",b,J))}function a$(){L.statement||(L.statement=aE.statement),L.columns=aE.statement.columns}async function a_(a,b=a.readUInt32BE(5)){(3===b?a0:5===b?a1:10===b?a2:11===b?a3:12===b?function(a){a.toString("utf8",9).split(ai.N,1)[0].slice(2)!==_&&(aV(r("SASL_SIGNATURE_MISMATCH","The server did not return the correct signature")),J.destroy())}:0!==b?function(a,b){console.error("Postgres.js : Unknown Auth:",b)}:ar)(a,b)}async function a0(){let a=await a4();aM(ai().p().str(a).z(1).end())}async function a1(a){let b="md5"+await av(Buffer.concat([Buffer.from(await av(await a4()+i)),a.subarray(9)]));aM(ai().p().str(b).z(1).end())}async function a2(){aD=(await ac.default.randomBytes(18)).toString("base64"),ai().p().str("SCRAM-SHA-256"+ai.N);let a=ai.i;aM(ai.inc(4).str("n,,n=*,r="+aD).i32(ai.i-a-4,a).end())}async function a3(a){var b;let c=a.toString("utf8",9).split(",").reduce((a,b)=>(a[b[0]]=b.slice(2),a),{}),d=await ac.default.pbkdf2Sync(await a4(),Buffer.from(c.s,"base64"),parseInt(c.i),32,"sha256"),e=await aw(d,"Client Key"),f="n=*,r="+aD+",r="+c.r+",s="+c.s+",i="+c.i+",c=biws,r="+c.r;_=(await aw(await aw(d,"Server Key"),f)).toString("base64");let g="c=biws,r="+c.r+",p="+(function(a,b){let c=Math.max(a.length,b.length),d=Buffer.allocUnsafe(c);for(let e=0;e<c;e++)d[e]=a[e]^b[e];return d})(e,Buffer.from(await aw(await (b=e,ac.default.createHash("sha256").update(b).digest()),f))).toString("base64");aM(ai().p().str(g).end())}function a4(){return Promise.resolve("function"==typeof b.pass?b.pass():b.pass)}async function a5(){N=!1,(await new n([`
      select b.oid, b.typarray
      from pg_catalog.pg_type a
      left join pg_catalog.pg_type b on b.oid = a.typelem
      where a.typcategory = 'A'
      group by b.oid, b.typarray
      order by b.oid
    `],[],aJ)).forEach(({oid:a,typarray:c})=>(function(a,c){if(b.parsers[c]&&b.serializers[c])return;let d=b.parsers[a];b.shared.typeArrayMap[a]=c,b.parsers[c]=a=>(R.i=R.last=0,function a(b,c,d,e){let f=[],g=1020===e?";":",";for(;b.i<c.length;b.i++){if(b.char=c[b.i],b.quoted)"\\"===b.char?b.str+=c[++b.i]:'"'===b.char?(f.push(d?d(b.str):b.str),b.str="",b.quoted='"'===c[b.i+1],b.last=b.i+2):b.str+=b.char;else if('"'===b.char)b.quoted=!0;else if("{"===b.char)b.last=++b.i,f.push(a(b,c,d,e));else if("}"===b.char){b.quoted=!1,b.last<b.i&&f.push(d?d(c.slice(b.last,b.i)):c.slice(b.last,b.i)),b.last=b.i+1;break}else b.char===g&&"}"!==b.p&&'"'!==b.p&&(f.push(d?d(c.slice(b.last,b.i)):c.slice(b.last,b.i)),b.last=b.i+1);b.p=b.char}return b.last<b.i&&f.push(d?d(c.slice(b.last,b.i+1)):c.slice(b.last,b.i+1)),f}(R,a,d,c)),b.parsers[c].array=!0,b.serializers[c]=d=>Q(d,b.serializers[a],b,c)})(a,c))}async function a6(){try{let a=await Promise.resolve(aE.cursorFn(L));$=0,a===m?aM(function(a=""){return Buffer.concat([ai().C().str("P").str(a+ai.N).end(),ai().S().end()])}(aE.portal)):(L=new af,aM(a8("",aE.cursorRows)))}catch(a){aM(am),aE.reject(a)}}function a7(a,b,c,d=""){return ai().P().str(d+ai.N).str(a+ai.N).i16(b.length),b.forEach((a,b)=>ai.i32(c[b]||0)),ai.end()}function a8(a="",b=0){return Buffer.concat([ai().E().str(a+ai.N).i32(b).end(),an])}},al=1,am=ai().S().end(),an=ai().H().end(),ao=ai().i32(8).i32(0x4d2162f).end(8),ap=Buffer.concat([ai().E().str(ai.N).i32(0).end(),am]),aq=ai().D().str("S").str(ai.N).end(),ar=()=>{},as=new Set(["FetchPreparedStatement","RevalidateCachedQuery","transformAssignedExpr"]),at={83:"severity_local",86:"severity",67:"code",77:"message",68:"detail",72:"hint",80:"position",112:"internal_position",113:"internal_query",87:"where",115:"schema_name",116:"table_name",99:"column_name",100:"data type_name",110:"constraint_name",70:"file",76:"line",82:"routine"};function au(a){let b={},c=5;for(let d=5;d<a.length-1;d++)0===a[d]&&(b[at[a[c]]]=a.toString("utf8",c+1,d),c=d+1);return b}function av(a){return ac.default.createHash("md5").update(a).digest("hex")}function aw(a,b){return ac.default.createHmac("sha256",a).update(b).digest()}function ax(a,b){let c;if(!(b="function"==typeof b?b():b))return{cancel:ar,start:ar};return{cancel(){c&&(clearTimeout(c),c=null)},start(){c&&clearTimeout(c),c=setTimeout(d,1e3*b,arguments)}};function d(b){a.apply(null,b),c=null}}let ay=()=>{};function az(a,b,c,d){let e,f,g,h=d.raw?Array(b.length):{};for(let i=0;i<b.length;i++)e=a[c++],f=b[i],g=110===e?null:117===e?void 0:void 0===f.parser?a.toString("utf8",c+4,c+=4+a.readUInt32BE(c)):!0===f.parser.array?f.parser(a.toString("utf8",c+5,c+=4+a.readUInt32BE(c))):f.parser(a.toString("utf8",c+4,c+=4+a.readUInt32BE(c))),d.raw?h[i]=!0===d.raw?g:d.value.from?d.value.from(g,f):g:h[f.name]=d.value.from?d.value.from(g,f):g;return{i:c,row:d.row.from?d.row.from(h):h}}function aA(a,b,c=393216){return new Promise(async(d,e)=>{await a.begin(async a=>{let e;b||([{oid:b}]=await a`select lo_creat(-1) as oid`);let[{fd:f}]=await a`select lo_open(${b}, ${c}) as fd`,g={writable:i,readable:h,close:()=>a`select lo_close(${f})`.then(e),tell:()=>a`select lo_tell64(${f})`,read:b=>a`select loread(${f}, ${b}) as data`,write:b=>a`select lowrite(${f}, ${b})`,truncate:b=>a`select lo_truncate64(${f}, ${b})`,seek:(b,c=0)=>a`select lo_lseek64(${f}, ${b}, ${c})`,size:()=>a`
          select
            lo_lseek64(${f}, location, 0) as position,
            seek.size
          from (
            select
              lo_lseek64($1, 0, 2) as size,
              tell.location
            from (select lo_tell64($1) as location) tell
          ) seek
        `};return d(g),new Promise(async a=>e=a);async function h({highWaterMark:a=16384,start:b=0,end:c=1/0}={}){let d=c-b;return b&&await g.seek(b),new ad.default.Readable({highWaterMark:a,async read(a){let b=a>d?a-d:a;d-=a;let[{data:c}]=await g.read(b);this.push(c),c.length<a&&this.push(null)}})}async function i({highWaterMark:a=16384,start:b=0}={}){return b&&await g.seek(b),new ad.default.Writable({highWaterMark:a,write(a,b,c){g.write(a).then(()=>c(),c)}})}}).catch(e)})}Object.assign(aC,{PostgresError:o,toPascal:T,pascal:$,toCamel:S,camel:Z,toKebab:U,kebab:_,fromPascal:W,fromCamel:V,fromKebab:X,BigInt:{to:20,from:[20],parse:a=>BigInt(a),serialize:a=>a.toString()}});let aB=aC;function aC(a,b){let c=function(a,b){var c;if(a&&a.shared)return a;let d=process.env,e=(a&&"string"!=typeof a?a:b)||{},{url:f,multihost:g}=function(a){if(!a||"string"!=typeof a)return{url:{searchParams:new Map}};let b=a;b=decodeURIComponent((b=b.slice(b.indexOf("://")+3).split(/[?/]/)[0]).slice(b.indexOf("@")+1));let c=new URL(a.replace(b,b.split(",")[0]));return{url:{username:decodeURIComponent(c.username),password:decodeURIComponent(c.password),host:c.host,hostname:c.hostname,port:c.port,pathname:c.pathname,searchParams:c.searchParams},multihost:b.indexOf(",")>-1&&b}}(a),i=[...f.searchParams].reduce((a,[b,c])=>(a[b]=c,a),{}),j=e.hostname||e.host||g||f.hostname||d.PGHOST||"localhost",k=e.port||f.port||d.PGPORT||5432,l=e.user||e.username||f.username||d.PGUSERNAME||d.PGUSER||function(){try{return h.default.userInfo().username}catch(a){return process.env.USERNAME||process.env.USER||process.env.LOGNAME}}();e.no_prepare&&(e.prepare=!1),i.sslmode&&(i.ssl=i.sslmode,delete i.sslmode),"timeout"in e&&(console.log("The timeout option is deprecated, use idle_timeout instead"),e.idle_timeout=e.timeout),"system"===i.sslrootcert&&(i.ssl="verify-full");let m=["idle_timeout","connect_timeout","max_lifetime","max_pipeline","backoff","keep_alive"],n={max:10,ssl:!1,idle_timeout:null,connect_timeout:30,max_lifetime:aE,max_pipeline:100,backoff:aD,keep_alive:60,prepare:!0,debug:!1,fetch_types:!0,publications:"alltables",target_session_attrs:null};return{host:Array.isArray(j)?j:j.split(",").map(a=>a.split(":")[0]),port:Array.isArray(k)?k:j.split(",").map(a=>parseInt(a.split(":")[1]||k)),path:e.path||j.indexOf("/")>-1&&j+"/.s.PGSQL."+k,database:e.database||e.db||(f.pathname||"").slice(1)||d.PGDATABASE||l,user:l,pass:e.pass||e.password||f.password||d.PGPASSWORD||"",...Object.entries(n).reduce((a,[b,c])=>{let f=b in e?e[b]:b in i?"disable"!==i[b]&&"false"!==i[b]&&i[b]:d["PG"+b.toUpperCase()]||c;return a[b]="string"==typeof f&&m.includes(b)?+f:f,a},{}),connection:{application_name:d.PGAPPNAME||"postgres.js",...e.connection,...Object.entries(i).reduce((a,[b,c])=>(b in n||(a[b]=c),a),{})},types:e.types||{},target_session_attrs:function(a,b,c){let d=a.target_session_attrs||b.searchParams.get("target_session_attrs")||c.PGTARGETSESSIONATTRS;if(!d||["read-write","read-only","primary","standby","prefer-standby"].includes(d))return d;throw Error("target_session_attrs "+d+" is not supported")}(e,f,d),onnotice:e.onnotice,onnotify:e.onnotify,onclose:e.onclose,onparameter:e.onparameter,socket:e.socket,transform:{undefined:(c=e.transform||{undefined:void 0}).undefined,column:{from:"function"==typeof c.column?c.column:c.column&&c.column.from,to:c.column&&c.column.to},value:{from:"function"==typeof c.value?c.value:c.value&&c.value.from,to:c.value&&c.value.to},row:{from:"function"==typeof c.row?c.row:c.row&&c.row.from,to:c.row&&c.row.to}},parameters:{},shared:{retries:0,typeArrayMap:{}},...J(e.types)}}(a,b),d=c.no_subscribe||function(a,b){let c=new Map,d="postgresjs_"+Math.random().toString(36).slice(2),e={},f,g,h=!1,i=l.sql=a({...b,transform:{column:{},value:{},row:{}},max:1,fetch_types:!1,idle_timeout:null,max_lifetime:null,connection:{...b.connection,replication:"database"},onclose:async function(){h||(g=null,e.pid=e.secret=void 0,m(await n(i,d,b.publications)),c.forEach(a=>a.forEach(({onsubscribe:a})=>a())))},no_subscribe:!0}),j=i.end,k=i.close;return i.end=async()=>(h=!0,g&&await new Promise(a=>(g.once("close",a),g.end())),j()),i.close=async()=>(g&&await new Promise(a=>(g.once("close",a),g.end())),k()),l;async function l(a,h,j=ay,k=ay){a=function(a){let[,b,c,d]=a.match(/^(\*|insert|update|delete)?:?([^.]+?\.?[^=]+)?=?(.+)?/i)||[];return(b||"*")+(c?":"+(-1===c.indexOf(".")?"public."+c:c):"")+(d?"="+d:"")}(a),f||(f=n(i,d,b.publications));let o={fn:h,onsubscribe:j},p=c.has(a)?c.get(a).add(o):c.set(a,new Set([o])).get(a),q=()=>{p.delete(o),0===p.size&&c.delete(a)};return f.then(a=>(m(a),j(),g&&g.on("error",k),{unsubscribe:q,state:e,sql:i}))}function m(a){g=a.stream,e.pid=a.state.pid,e.secret=a.state.secret}async function n(a,c,d){if(!d)throw Error("Missing publication names");let e=await a.unsafe(`CREATE_REPLICATION_SLOT ${c} TEMPORARY LOGICAL pgoutput NOEXPORT_SNAPSHOT`),[f]=e,g=await a.unsafe(`START_REPLICATION SLOT ${c} LOGICAL ${f.consistent_point} (proto_version '1', publication_names '${d}')`).writable(),h={lsn:Buffer.concat(f.consistent_point.split("/").map(a=>Buffer.from(("00000000"+a).slice(-8),"hex")))};return g.on("data",function(c){var d,e,f,j,k;let l;119===c[0]?(d=c.subarray(25),e=h,f=a.options.parsers,j=i,k=b.transform,Object.entries({R:a=>{let b=1,c=e[a.readUInt32BE(b)]={schema:a.toString("utf8",b+=4,b=a.indexOf(0,b))||"pg_catalog",table:a.toString("utf8",b+1,b=a.indexOf(0,b+1)),columns:Array(a.readUInt16BE(b+=2)),keys:[]};b+=2;let d=0,g;for(;b<a.length;)(g=c.columns[d++]={key:a[b++],name:k.column.from?k.column.from(a.toString("utf8",b,b=a.indexOf(0,b))):a.toString("utf8",b,b=a.indexOf(0,b)),type:a.readUInt32BE(b+=1),parser:f[a.readUInt32BE(b)],atttypmod:a.readUInt32BE(b+=4)}).key&&c.keys.push(g),b+=4},Y:()=>{},O:()=>{},B:a=>{var b;b=a.readBigInt64BE(9),e.date=new Date(Date.UTC(2e3,0,1)+Number(b/BigInt(1e3))),e.lsn=a.subarray(1,9)},I:a=>{let b=1,c=e[a.readUInt32BE(b)],{row:d}=az(a,c.columns,b+=7,k);j(d,{command:"insert",relation:c})},D:a=>{let b=1,c=e[a.readUInt32BE(b)],d=75===a[b+=4];j(d||79===a[b]?az(a,c.columns,b+=3,k).row:null,{command:"delete",relation:c,key:d})},U:a=>{let b=1,c=e[a.readUInt32BE(b)],d=75===a[b+=4],f=d||79===a[b]?az(a,c.columns,b+=3,k):null;f&&(b=f.i);let{row:g}=az(a,c.columns,b+3,k);j(g,{command:"update",relation:c,key:d,old:f&&f.row})},T:()=>{},C:()=>{}}).reduce((a,[b,c])=>(a[b.charCodeAt(0)]=c,a),{})[d[0]](d)):107===c[0]&&c[17]&&(h.lsn=c.subarray(1,9),(l=Buffer.alloc(34))[0]=114,l.fill(h.lsn,1),l.writeBigInt64BE(BigInt(Date.now()-Date.UTC(2e3,0,1))*BigInt(1e3),25),g.write(l))}),g.on("error",function(a){console.error("Unexpected error during logical streaming - reconnecting",a)}),g.on("close",a.close),{stream:g,state:e.state};function i(a,b){let c=b.relation.schema+"."+b.relation.table;o("*",a,b),o("*:"+c,a,b),b.relation.keys.length&&o("*:"+c+"="+b.relation.keys.map(b=>a[b.name]),a,b),o(b.command,a,b),o(b.command+":"+c,a,b),b.relation.keys.length&&o(b.command+":"+c+"="+b.relation.keys.map(b=>a[b.name]),a,b)}}function o(a,b,d){c.has(a)&&c.get(a).forEach(({fn:c})=>c(b,d,a))}}(aC,{...c}),e=!1,f=ag(),g=ag(),j=ag(),k=ag(),l=ag(),q=ag(),s=ag(),t=ag(),x={connecting:g,reserved:j,closed:k,ended:l,open:q,busy:s,full:t},y=[...Array(c.max)].map(()=>ak(c,x,{onopen:Q,onend:P,onclose:R})),z=A(function(a){return e?a.reject(p("CONNECTION_ENDED",c,c)):q.length?H(q.shift(),a):k.length?O(k.shift(),a):void(s.length?H(s.shift(),a):f.push(a))});return Object.assign(z,{get parameters(){return c.parameters},largeObject:aA.bind(null,z),subscribe:d,CLOSE:m,END:m,PostgresError:o,options:c,reserve:D,listen:B,begin:E,close:L,end:K}),z;function A(a){return a.debug=c.debug,Object.entries(c.types).reduce((a,[b,c])=>(a[b]=a=>new v(a,c.to),a),b),Object.assign(d,{types:b,typed:b,unsafe:function(b,c=[],d={}){return 2!=arguments.length||Array.isArray(c)||(d=c,c=[]),new n([b],c,a,I,{prepare:!1,...d,simple:"simple"in d?d.simple:0===c.length})},notify:C,array:function a(b,d){return Array.isArray(b)?new v(b,d||(b.length?N(b)||25:0),c.shared.typeArrayMap):a(Array.from(arguments))},json:G,file:function(b,c=[],d={}){return 2!=arguments.length||Array.isArray(c)||(d=c,c=[]),new n([],c,c=>{i.default.readFile(b,"utf8",(b,d)=>{if(b)return c.reject(b);c.strings=[d],a(c)})},I,{...d,simple:"simple"in d?d.simple:0===c.length})}}),d;function b(a,b){return new v(a,b)}function d(b,...e){return b&&Array.isArray(b.raw)?new n(b,e,a,I):"string"!=typeof b||e.length?new w(b,e):new u(c.transform.column.to?c.transform.column.to(b):b)}}async function B(a,b,d){let e={fn:b,onlisten:d},f=B.sql||(B.sql=aC({...c,max:1,idle_timeout:null,max_lifetime:null,fetch_types:!1,onclose(){Object.entries(B.channels).forEach(([a,{listeners:b}])=>{delete B.channels[a],Promise.all(b.map(b=>B(a,b.fn,b.onlisten).catch(()=>{})))})},onnotify(a,b){a in B.channels&&B.channels[a].listeners.forEach(a=>a.fn(b))}})),g=B.channels||(B.channels={});if(a in g){g[a].listeners.push(e);let b=await g[a].result;return e.onlisten&&e.onlisten(),{state:b.state,unlisten:i}}g[a]={result:f`listen ${f.unsafe('"'+a.replace(/"/g,'""')+'"')}`,listeners:[e]};let h=await g[a].result;return e.onlisten&&e.onlisten(),{state:h.state,unlisten:i};async function i(){if(a in g!=!1&&(g[a].listeners=g[a].listeners.filter(a=>a!==e),!g[a].listeners.length))return delete g[a],f`unlisten ${f.unsafe('"'+a.replace(/"/g,'""')+'"')}`}}async function C(a,b){return await z`select pg_notify(${a}, ${""+b})`}async function D(){let a=ag(),b=q.length?q.shift():await new Promise((a,b)=>{let c={reserve:a,reject:b};f.push(c),k.length&&O(k.shift(),c)});F(b,j),b.reserved=()=>a.length?b.execute(a.shift()):F(b,j),b.reserved.release=!0;let c=A(function(c){b.queue===t?a.push(c):b.execute(c)||F(b,t)});return c.release=()=>{b.reserved=null,Q(b)},c}async function E(a,b){b||(b=a,a="");let c=ag(),d=0,e,f=null;try{return await z.unsafe("begin "+a.replace(/[^a-z ]/ig,""),[],{onexecute:function(a){e=a,F(a,j),a.reserved=()=>c.length?a.execute(c.shift()):F(a,j)}}).execute(),await Promise.race([g(e,b),new Promise((a,b)=>e.onclose=b)])}catch(a){throw a}async function g(a,b,e){let h,i,j=A(function(b){b.catch(a=>h||(h=a)),a.queue===t?c.push(b):a.execute(b)||F(a,t)});j.savepoint=function b(c,e){return c&&Array.isArray(c.raw)?b(a=>a.apply(a,arguments)):(1==arguments.length&&(e=c,c=null),g(a,e,"s"+d+++(c?"_"+c:"")))},j.prepare=a=>f=a.replace(/[^a-z0-9$-_. ]/gi),e&&await j`savepoint ${j(e)}`;try{if(i=await new Promise((a,c)=>{let d=b(j);Promise.resolve(Array.isArray(d)?Promise.all(d):d).then(a,c)}),h)throw h}catch(a){throw await (e?j`rollback to ${j(e)}`:j`rollback`),a instanceof o&&"25P02"===a.code&&h||a}return e||(f?await j`prepare transaction '${j.unsafe(f)}'`:await j`commit`),i}}function F(a,b){return a.queue.remove(a),b.push(a),a.queue=b,b===q?a.idleTimer.start():a.idleTimer.cancel(),a}function G(a){return new v(a,3802)}function H(a,b){return a.execute(b)?F(a,s):F(a,t)}function I(a){return new Promise((b,d)=>{a.state?a.active?ak(c).cancel(a.state,b,d):a.cancelled={resolve:b,reject:d}:(f.remove(a),a.cancelled=!0,a.reject(r("57014","canceling statement due to user request")),b())})}async function K({timeout:a=null}={}){let b;return e||(await 1,e=Promise.race([new Promise(c=>null!==a&&(b=setTimeout(M,1e3*a,c))),Promise.all(y.map(a=>a.end()).concat(B.sql?B.sql.end({timeout:0}):[],d.sql?d.sql.end({timeout:0}):[]))]).then(()=>clearTimeout(b)))}async function L(){await Promise.all(y.map(a=>a.end()))}async function M(a){for(await Promise.all(y.map(a=>a.terminate()));f.length;)f.shift().reject(p("CONNECTION_DESTROYED",c));a()}function O(a,b){return F(a,g),a.connect(b),a}function P(a){F(a,l)}function Q(a){if(0===f.length)return F(a,q);let b=Math.ceil(f.length/(g.length+1)),c=!0;for(;c&&f.length&&b-- >0;){let b=f.shift();if(b.reserve)return b.reserve(a);c=a.execute(b)}c?F(a,s):F(a,t)}function R(a,b){F(a,k),a.reserved=null,a.onclose&&(a.onclose(b),a.onclose=null),c.onclose&&c.onclose(a.id),f.length&&O(a,f.shift())}}function aD(a){return(.5+Math.random()/2)*Math.min(3**a/100,20)}function aE(){return 60*(30+30*Math.random())}let aF=Symbol.for("drizzle:entityKind");function aG(a,b){if(!a||"object"!=typeof a)return!1;if(a instanceof b)return!0;if(!Object.prototype.hasOwnProperty.call(b,aF))throw Error(`Class "${b.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let c=Object.getPrototypeOf(a).constructor;if(c)for(;c;){if(aF in c&&c[aF]===b[aF])return!0;c=Object.getPrototypeOf(c)}return!1}Symbol.for("drizzle:hasOwnEntityKind");class aH{static [aF]="ConsoleLogWriter";write(a){console.log(a)}}class aI{static [aF]="DefaultLogger";writer;constructor(a){this.writer=a?.writer??new aH}logQuery(a,b){let c=b.map(a=>{try{return JSON.stringify(a)}catch{return String(a)}}),d=c.length?` -- params: [${c.join(", ")}]`:"";this.writer.write(`Query: ${a}${d}`)}}class aJ{static [aF]="NoopLogger";logQuery(){}}class aK{static [aF]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(a){return this.then(void 0,a)}finally(a){return this.then(b=>(a?.(),b),b=>{throw a?.(),b})}then(a,b){return this.execute().then(a,b)}}class aL{constructor(a,b){this.table=a,this.config=b,this.name=b.name,this.keyAsName=b.keyAsName,this.notNull=b.notNull,this.default=b.default,this.defaultFn=b.defaultFn,this.onUpdateFn=b.onUpdateFn,this.hasDefault=b.hasDefault,this.primary=b.primaryKey,this.isUnique=b.isUnique,this.uniqueName=b.uniqueName,this.uniqueType=b.uniqueType,this.dataType=b.dataType,this.columnType=b.columnType,this.generated=b.generated,this.generatedIdentity=b.generatedIdentity}static [aF]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(a){return a}mapToDriverValue(a){return a}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}class aM{static [aF]="ColumnBuilder";config;constructor(a,b,c){this.config={name:a,keyAsName:""===a,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:b,columnType:c,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(a){return this.config.default=a,this.config.hasDefault=!0,this}$defaultFn(a){return this.config.defaultFn=a,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(a){return this.config.onUpdateFn=a,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(a){""===this.config.name&&(this.config.name=a)}}let aN=Symbol.for("drizzle:Name");class aO{static [aF]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(a,b){this.reference=()=>{let{name:b,columns:c,foreignColumns:d}=a();return{name:b,columns:c,foreignTable:d[0].table,foreignColumns:d}},b&&(this._onUpdate=b.onUpdate,this._onDelete=b.onDelete)}onUpdate(a){return this._onUpdate=void 0===a?"no action":a,this}onDelete(a){return this._onDelete=void 0===a?"no action":a,this}build(a){return new aP(a,this)}}class aP{constructor(a,b){this.table=a,this.reference=b.reference,this.onUpdate=b._onUpdate,this.onDelete=b._onDelete}static [aF]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:a,columns:b,foreignColumns:c}=this.reference(),d=b.map(a=>a.name),e=c.map(a=>a.name),f=[this.table[aN],...d,c[0].table[aN],...e];return a??`${f.join("_")}_fk`}}function aQ(a,...b){return a(...b)}function aR(a,b){return`${a[aN]}_${b.join("_")}_unique`}class aS{constructor(a,b){this.name=b,this.columns=a}static [aF]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(a){return new aU(a,this.columns,this.nullsNotDistinctConfig,this.name)}}class aT{static [aF]="PgUniqueOnConstraintBuilder";name;constructor(a){this.name=a}on(...a){return new aS(a,this.name)}}class aU{constructor(a,b,c,d){this.table=a,this.columns=b,this.name=d??aR(this.table,this.columns.map(a=>a.name)),this.nullsNotDistinct=c}static [aF]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function aV(a,b,c){for(let d=b;d<a.length;d++){let e=a[d];if("\\"===e){d++;continue}if('"'===e)return[a.slice(b,d).replace(/\\/g,""),d+1];if(!c&&(","===e||"}"===e))return[a.slice(b,d).replace(/\\/g,""),d]}return[a.slice(b).replace(/\\/g,""),a.length]}class aW extends aM{foreignKeyConfigs=[];static [aF]="PgColumnBuilder";array(a){return new a$(this.config.name,this,a)}references(a,b={}){return this.foreignKeyConfigs.push({ref:a,actions:b}),this}unique(a,b){return this.config.isUnique=!0,this.config.uniqueName=a,this.config.uniqueType=b?.nulls,this}generatedAlwaysAs(a){return this.config.generated={as:a,type:"always",mode:"stored"},this}buildForeignKeys(a,b){return this.foreignKeyConfigs.map(({ref:c,actions:d})=>aQ((c,d)=>{let e=new aO(()=>({columns:[a],foreignColumns:[c()]}));return d.onUpdate&&e.onUpdate(d.onUpdate),d.onDelete&&e.onDelete(d.onDelete),e.build(b)},c,d))}buildExtraConfigColumn(a){return new aY(a,this.config)}}class aX extends aL{constructor(a,b){b.uniqueName||(b.uniqueName=aR(a,[b.name])),super(a,b),this.table=a}static [aF]="PgColumn"}class aY extends aX{static [aF]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(a){return this.indexConfig.opClass=a,this}}class aZ{static [aF]="IndexedColumn";constructor(a,b,c,d){this.name=a,this.keyAsName=b,this.type=c,this.indexConfig=d}name;keyAsName;type;indexConfig}class a$ extends aW{static [aF]="PgArrayBuilder";constructor(a,b,c){super(a,"array","PgArray"),this.config.baseBuilder=b,this.config.size=c}build(a){let b=this.config.baseBuilder.build(a);return new a_(a,this.config,b)}}class a_ extends aX{constructor(a,b,c,d){super(a,b),this.baseColumn=c,this.range=d,this.size=b.size}size;static [aF]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(a){return"string"==typeof a&&(a=function(a){let[b]=function a(b,c=0){let d=[],e=c,f=!1;for(;e<b.length;){let g=b[e];if(","===g){(f||e===c)&&d.push(""),f=!0,e++;continue}if(f=!1,"\\"===g){e+=2;continue}if('"'===g){let[a,c]=aV(b,e+1,!0);d.push(a),e=c;continue}if("}"===g)return[d,e+1];if("{"===g){let[c,f]=a(b,e+1);d.push(c),e=f;continue}let[h,i]=aV(b,e,!1);d.push(h),e=i}return[d,e]}(a,1);return b}(a)),a.map(a=>this.baseColumn.mapFromDriverValue(a))}mapToDriverValue(a,b=!1){let c=a.map(a=>null===a?null:aG(this.baseColumn,a_)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return b?c:function a(b){return`{${b.map(b=>Array.isArray(b)?a(b):"string"==typeof b?`"${b.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${b}`).join(",")}}`}(c)}}class a0 extends aW{static [aF]="PgEnumObjectColumnBuilder";constructor(a,b){super(a,"string","PgEnumObjectColumn"),this.config.enum=b}build(a){return new a1(a,this.config)}}class a1 extends aX{static [aF]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(a,b){super(a,b),this.enum=b.enum}getSQLType(){return this.enum.enumName}}let a2=Symbol.for("drizzle:isPgEnum");class a3 extends aW{static [aF]="PgEnumColumnBuilder";constructor(a,b){super(a,"string","PgEnumColumn"),this.config.enum=b}build(a){return new a4(a,this.config)}}class a4 extends aX{static [aF]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(a,b){super(a,b),this.enum=b.enum}getSQLType(){return this.enum.enumName}}function a5(a,b){var c;let d,e;return Array.isArray(b)?d=Object.assign(a=>new a3(a??"",d),{enumName:a,enumValues:[...b],schema:void 0,[a2]:!0}):(c=void 0,e=Object.assign(a=>new a0(a??"",e),{enumName:a,enumValues:Object.values(b),schema:c,[a2]:!0}))}class a6{static [aF]="Subquery";constructor(a,b,c,d=!1,e=[]){this._={brand:"Subquery",sql:a,selectedFields:b,alias:c,isWith:d,usedTables:e}}}class a7 extends a6{static [aF]="WithSubquery"}let a8=(a,d)=>b?(c||(c=b.trace.getTracer("drizzle-orm","0.45.0")),aQ((b,c)=>c.startActiveSpan(a,a=>{try{return d(a)}catch(c){throw a.setStatus({code:b.SpanStatusCode.ERROR,message:c instanceof Error?c.message:"Unknown error"}),c}finally{a.end()}}),b,c)):d(),a9=Symbol.for("drizzle:ViewBaseConfig"),ba=Symbol.for("drizzle:Schema"),bb=Symbol.for("drizzle:Columns"),bc=Symbol.for("drizzle:ExtraConfigColumns"),bd=Symbol.for("drizzle:OriginalName"),be=Symbol.for("drizzle:BaseName"),bf=Symbol.for("drizzle:IsAlias"),bg=Symbol.for("drizzle:ExtraConfigBuilder"),bh=Symbol.for("drizzle:IsDrizzleTable");class bi{static [aF]="Table";static Symbol={Name:aN,Schema:ba,OriginalName:bd,Columns:bb,ExtraConfigColumns:bc,BaseName:be,IsAlias:bf,ExtraConfigBuilder:bg};[aN];[bd];[ba];[bb];[bc];[be];[bf]=!1;[bh]=!0;[bg]=void 0;constructor(a,b,c){this[aN]=this[bd]=a,this[ba]=b,this[be]=c}}function bj(a){return`${a[ba]??"public"}.${a[aN]}`}class bk{static [aF]="FakePrimitiveParam"}function bl(a){return null!=a&&"function"==typeof a.getSQL}class bm{static [aF]="StringChunk";value;constructor(a){this.value=Array.isArray(a)?a:[a]}getSQL(){return new bn([this])}}class bn{constructor(a){for(const b of(this.queryChunks=a,a))if(aG(b,bi)){const a=b[bi.Symbol.Schema];this.usedTables.push(void 0===a?b[bi.Symbol.Name]:a+"."+b[bi.Symbol.Name])}}static [aF]="SQL";decoder=bp;shouldInlineParams=!1;usedTables=[];append(a){return this.queryChunks.push(...a.queryChunks),this}toQuery(a){return a8("drizzle.buildSQL",b=>{let c=this.buildQueryFromSourceParams(this.queryChunks,a);return b?.setAttributes({"drizzle.query.text":c.sql,"drizzle.query.params":JSON.stringify(c.params)}),c})}buildQueryFromSourceParams(a,b){let c=Object.assign({},b,{inlineParams:b.inlineParams||this.shouldInlineParams,paramStartIndex:b.paramStartIndex||{value:0}}),{casing:d,escapeName:e,escapeParam:f,prepareTyping:g,inlineParams:h,paramStartIndex:i}=c;var j=a.map(a=>{if(aG(a,bm))return{sql:a.value.join(""),params:[]};if(aG(a,bo))return{sql:e(a.value),params:[]};if(void 0===a)return{sql:"",params:[]};if(Array.isArray(a)){let b=[new bm("(")];for(let[c,d]of a.entries())b.push(d),c<a.length-1&&b.push(new bm(", "));return b.push(new bm(")")),this.buildQueryFromSourceParams(b,c)}if(aG(a,bn))return this.buildQueryFromSourceParams(a.queryChunks,{...c,inlineParams:h||a.shouldInlineParams});if(aG(a,bi)){let b=a[bi.Symbol.Schema],c=a[bi.Symbol.Name];return{sql:void 0===b||a[bf]?e(c):e(b)+"."+e(c),params:[]}}if(aG(a,aL)){let c=d.getColumnCasing(a);if("indexes"===b.invokeSource)return{sql:e(c),params:[]};let f=a.table[bi.Symbol.Schema];return{sql:a.table[bf]||void 0===f?e(a.table[bi.Symbol.Name])+"."+e(c):e(f)+"."+e(a.table[bi.Symbol.Name])+"."+e(c),params:[]}}if(aG(a,by)){let b=a[a9].schema,c=a[a9].name;return{sql:void 0===b||a[a9].isAlias?e(c):e(b)+"."+e(c),params:[]}}if(aG(a,br)){if(aG(a.value,bv))return{sql:f(i.value++,a),params:[a],typings:["none"]};let b=null===a.value?null:a.encoder.mapToDriverValue(a.value);if(aG(b,bn))return this.buildQueryFromSourceParams([b],c);if(h)return{sql:this.mapInlineParam(b,c),params:[]};let d=["none"];return g&&(d=[g(a.encoder)]),{sql:f(i.value++,b),params:[b],typings:d}}return aG(a,bv)?{sql:f(i.value++,a),params:[a],typings:["none"]}:aG(a,bn.Aliased)&&void 0!==a.fieldAlias?{sql:e(a.fieldAlias),params:[]}:aG(a,a6)?a._.isWith?{sql:e(a._.alias),params:[]}:this.buildQueryFromSourceParams([new bm("("),a._.sql,new bm(") "),new bo(a._.alias)],c):a&&"function"==typeof a&&a2 in a&&!0===a[a2]?a.schema?{sql:e(a.schema)+"."+e(a.enumName),params:[]}:{sql:e(a.enumName),params:[]}:bl(a)?a.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([a.getSQL()],c):this.buildQueryFromSourceParams([new bm("("),a.getSQL(),new bm(")")],c):h?{sql:this.mapInlineParam(a,c),params:[]}:{sql:f(i.value++,a),params:[a],typings:["none"]}});let k={sql:"",params:[]};for(let a of j)k.sql+=a.sql,k.params.push(...a.params),a.typings?.length&&(k.typings||(k.typings=[]),k.typings.push(...a.typings));return k}mapInlineParam(a,{escapeString:b}){if(null===a)return"null";if("number"==typeof a||"boolean"==typeof a)return a.toString();if("string"==typeof a)return b(a);if("object"==typeof a){let c=a.toString();return"[object Object]"===c?b(JSON.stringify(a)):b(c)}throw Error("Unexpected param value: "+a)}getSQL(){return this}as(a){return void 0===a?this:new bn.Aliased(this,a)}mapWith(a){return this.decoder="function"==typeof a?{mapFromDriverValue:a}:a,this}inlineParams(){return this.shouldInlineParams=!0,this}if(a){return a?this:void 0}}class bo{constructor(a){this.value=a}static [aF]="Name";brand;getSQL(){return new bn([this])}}let bp={mapFromDriverValue:a=>a},bq={mapToDriverValue:a=>a};({...bp,...bq});class br{constructor(a,b=bq){this.value=a,this.encoder=b}static [aF]="Param";brand;getSQL(){return new bn([this])}}function bs(a,...b){let c=[];for(let[d,e]of((b.length>0||a.length>0&&""!==a[0])&&c.push(new bm(a[0])),b.entries()))c.push(e,new bm(a[d+1]));return new bn(c)}(d=bs||(bs={})).empty=function(){return new bn([])},d.fromList=function(a){return new bn(a)},d.raw=function(a){return new bn([new bm(a)])},d.join=function(a,b){let c=[];for(let[d,e]of a.entries())d>0&&void 0!==b&&c.push(b),c.push(e);return new bn(c)},d.identifier=function(a){return new bo(a)},d.placeholder=function(a){return new bv(a)},d.param=function(a,b){return new br(a,b)};var bt=bn||(bn={});class bu{constructor(a,b){this.sql=a,this.fieldAlias=b}static [aF]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new bu(this.sql,this.fieldAlias)}}bt.Aliased=bu;class bv{constructor(a){this.name=a}static [aF]="Placeholder";getSQL(){return new bn([this])}}function bw(a,b){return a.map(a=>{if(aG(a,bv)){if(!(a.name in b))throw Error(`No value for placeholder "${a.name}" was provided`);return b[a.name]}if(aG(a,br)&&aG(a.value,bv)){if(!(a.value.name in b))throw Error(`No value for placeholder "${a.value.name}" was provided`);return a.encoder.mapToDriverValue(b[a.value.name])}return a})}let bx=Symbol.for("drizzle:IsDrizzleView");class by{static [aF]="View";[a9];[bx]=!0;constructor({name:a,schema:b,selectedFields:c,query:d}){this[a9]={name:a,originalName:a,schema:b,selectedFields:c,query:d,isExisting:!d,isAlias:!1}}getSQL(){return new bn([this])}}aL.prototype.getSQL=function(){return new bn([this])},bi.prototype.getSQL=function(){return new bn([this])},a6.prototype.getSQL=function(){return new bn([this])};class bz{constructor(a){this.table=a}static [aF]="ColumnAliasProxyHandler";get(a,b){return"table"===b?this.table:a[b]}}class bA{constructor(a,b){this.alias=a,this.replaceOriginalName=b}static [aF]="TableAliasProxyHandler";get(a,b){if(b===bi.Symbol.IsAlias)return!0;if(b===bi.Symbol.Name||this.replaceOriginalName&&b===bi.Symbol.OriginalName)return this.alias;if(b===a9)return{...a[a9],name:this.alias,isAlias:!0};if(b===bi.Symbol.Columns){let b=a[bi.Symbol.Columns];if(!b)return b;let c={};return Object.keys(b).map(d=>{c[d]=new Proxy(b[d],new bz(new Proxy(a,this)))}),c}let c=a[b];return aG(c,aL)?new Proxy(c,new bz(new Proxy(a,this))):c}}class bB{constructor(a){this.alias=a}static [aF]="RelationTableAliasProxyHandler";get(a,b){return"sourceTable"===b?bC(a.sourceTable,this.alias):a[b]}}function bC(a,b){return new Proxy(a,new bA(b,!1))}function bD(a,b){return new Proxy(a,new bz(new Proxy(a.table,new bA(b,!1))))}function bE(a,b){return new bn.Aliased(bF(a.sql,b),a.fieldAlias)}function bF(a,b){return bs.join(a.queryChunks.map(a=>aG(a,aL)?bD(a,b):aG(a,bn)?bF(a,b):aG(a,bn.Aliased)?bE(a,b):a))}class bG{static [aF]="SelectionProxyHandler";config;constructor(a){this.config={...a}}get(a,b){if("_"===b)return{...a._,selectedFields:new Proxy(a._.selectedFields,this)};if(b===a9)return{...a[a9],selectedFields:new Proxy(a[a9].selectedFields,this)};if("symbol"==typeof b)return a[b];let c=(aG(a,a6)?a._.selectedFields:aG(a,by)?a[a9].selectedFields:a)[b];if(aG(c,bn.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!c.isSelectionField)return c.sql;let a=c.clone();return a.isSelectionField=!0,a}if(aG(c,bn)){if("sql"===this.config.sqlBehavior)return c;throw Error(`You tried to reference "${b}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return aG(c,aL)?this.config.alias?new Proxy(c,new bz(new Proxy(c.table,new bA(this.config.alias,this.config.replaceOriginalName??!1)))):c:"object"!=typeof c||null===c?c:new Proxy(c,new bG(this.config))}}function bH(a,b){return Object.entries(a).reduce((a,[c,d])=>{if("string"!=typeof c)return a;let e=b?[...b,c]:[c];return aG(d,aL)||aG(d,bn)||aG(d,bn.Aliased)||aG(d,a6)?a.push({path:e,field:d}):aG(d,bi)?a.push(...bH(d[bi.Symbol.Columns],e)):a.push(...bH(d,e)),a},[])}function bI(a,b){let c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(let[a,b]of c.entries())if(b!==d[a])return!1;return!0}function bJ(a,b){let c=Object.entries(b).filter(([,a])=>void 0!==a).map(([b,c])=>aG(c,bn)||aG(c,aL)?[b,c]:[b,new br(c,a[bi.Symbol.Columns][b])]);if(0===c.length)throw Error("No values to set");return Object.fromEntries(c)}function bK(a){return a[bi.Symbol.Columns]}function bL(a){return aG(a,a6)?a._.alias:aG(a,by)?a[a9].name:aG(a,bn)?void 0:a[bi.Symbol.IsAlias]?a[bi.Symbol.Name]:a[bi.Symbol.BaseName]}function bM(a,b){return{name:"string"==typeof a&&a.length>0?a:"",config:"object"==typeof a?a:b}}"undefined"==typeof TextDecoder||new TextDecoder;class bN extends aW{static [aF]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(a){if(a){let{name:b,...c}=a;this.config.generatedIdentity={type:"always",sequenceName:b,sequenceOptions:c}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(a){if(a){let{name:b,...c}=a;this.config.generatedIdentity={type:"byDefault",sequenceName:b,sequenceOptions:c}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class bO extends bN{static [aF]="PgBigInt53Builder";constructor(a){super(a,"number","PgBigInt53")}build(a){return new bP(a,this.config)}}class bP extends aX{static [aF]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(a){return"number"==typeof a?a:Number(a)}}class bQ extends bN{static [aF]="PgBigInt64Builder";constructor(a){super(a,"bigint","PgBigInt64")}build(a){return new bR(a,this.config)}}class bR extends aX{static [aF]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(a){return BigInt(a)}}function bS(a,b){let{name:c,config:d}=bM(a,b);return"number"===d.mode?new bO(c):new bQ(c)}class bT extends aW{static [aF]="PgBigSerial53Builder";constructor(a){super(a,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(a){return new bU(a,this.config)}}class bU extends aX{static [aF]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(a){return"number"==typeof a?a:Number(a)}}class bV extends aW{static [aF]="PgBigSerial64Builder";constructor(a){super(a,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(a){return new bW(a,this.config)}}class bW extends aX{static [aF]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(a){return BigInt(a)}}function bX(a,b){let{name:c,config:d}=bM(a,b);return"number"===d.mode?new bT(c):new bV(c)}class bY extends aW{static [aF]="PgBooleanBuilder";constructor(a){super(a,"boolean","PgBoolean")}build(a){return new bZ(a,this.config)}}class bZ extends aX{static [aF]="PgBoolean";getSQLType(){return"boolean"}}function b$(a){return new bY(a??"")}class b_ extends aW{static [aF]="PgCharBuilder";constructor(a,b){super(a,"string","PgChar"),this.config.length=b.length,this.config.enumValues=b.enum}build(a){return new b0(a,this.config)}}class b0 extends aX{static [aF]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function b1(a,b={}){let{name:c,config:d}=bM(a,b);return new b_(c,d)}class b2 extends aW{static [aF]="PgCidrBuilder";constructor(a){super(a,"string","PgCidr")}build(a){return new b3(a,this.config)}}class b3 extends aX{static [aF]="PgCidr";getSQLType(){return"cidr"}}function b4(a){return new b2(a??"")}class b5 extends aW{static [aF]="PgCustomColumnBuilder";constructor(a,b,c){super(a,"custom","PgCustomColumn"),this.config.fieldConfig=b,this.config.customTypeParams=c}build(a){return new b6(a,this.config)}}class b6 extends aX{static [aF]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(a,b){super(a,b),this.sqlName=b.customTypeParams.dataType(b.fieldConfig),this.mapTo=b.customTypeParams.toDriver,this.mapFrom=b.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(a){return"function"==typeof this.mapFrom?this.mapFrom(a):a}mapToDriverValue(a){return"function"==typeof this.mapTo?this.mapTo(a):a}}function b7(a){return(b,c)=>{let{name:d,config:e}=bM(b,c);return new b5(d,e,a)}}class b8 extends aW{static [aF]="PgDateColumnBaseBuilder";defaultNow(){return this.default(bs`now()`)}}class b9 extends b8{static [aF]="PgDateBuilder";constructor(a){super(a,"date","PgDate")}build(a){return new ca(a,this.config)}}class ca extends aX{static [aF]="PgDate";getSQLType(){return"date"}mapFromDriverValue(a){return"string"==typeof a?new Date(a):a}mapToDriverValue(a){return a.toISOString()}}class cb extends b8{static [aF]="PgDateStringBuilder";constructor(a){super(a,"string","PgDateString")}build(a){return new cc(a,this.config)}}class cc extends aX{static [aF]="PgDateString";getSQLType(){return"date"}mapFromDriverValue(a){return"string"==typeof a?a:a.toISOString().slice(0,-14)}}function cd(a,b){let{name:c,config:d}=bM(a,b);return d?.mode==="date"?new b9(c):new cb(c)}class ce extends aW{static [aF]="PgDoublePrecisionBuilder";constructor(a){super(a,"number","PgDoublePrecision")}build(a){return new cf(a,this.config)}}class cf extends aX{static [aF]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(a){return"string"==typeof a?Number.parseFloat(a):a}}function cg(a){return new ce(a??"")}class ch extends aW{static [aF]="PgInetBuilder";constructor(a){super(a,"string","PgInet")}build(a){return new ci(a,this.config)}}class ci extends aX{static [aF]="PgInet";getSQLType(){return"inet"}}function cj(a){return new ch(a??"")}class ck extends bN{static [aF]="PgIntegerBuilder";constructor(a){super(a,"number","PgInteger")}build(a){return new cl(a,this.config)}}class cl extends aX{static [aF]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(a){return"string"==typeof a?Number.parseInt(a):a}}function cm(a){return new ck(a??"")}class cn extends aW{static [aF]="PgIntervalBuilder";constructor(a,b){super(a,"string","PgInterval"),this.config.intervalConfig=b}build(a){return new co(a,this.config)}}class co extends aX{static [aF]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let a=this.fields?` ${this.fields}`:"",b=this.precision?`(${this.precision})`:"";return`interval${a}${b}`}}function cp(a,b={}){let{name:c,config:d}=bM(a,b);return new cn(c,d)}class cq extends aW{static [aF]="PgJsonBuilder";constructor(a){super(a,"json","PgJson")}build(a){return new cr(a,this.config)}}class cr extends aX{static [aF]="PgJson";constructor(a,b){super(a,b)}getSQLType(){return"json"}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){if("string"==typeof a)try{return JSON.parse(a)}catch{}return a}}function cs(a){return new cq(a??"")}class ct extends aW{static [aF]="PgJsonbBuilder";constructor(a){super(a,"json","PgJsonb")}build(a){return new cu(a,this.config)}}class cu extends aX{static [aF]="PgJsonb";constructor(a,b){super(a,b)}getSQLType(){return"jsonb"}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){if("string"==typeof a)try{return JSON.parse(a)}catch{}return a}}function cv(a){return new ct(a??"")}class cw extends aW{static [aF]="PgLineBuilder";constructor(a){super(a,"array","PgLine")}build(a){return new cx(a,this.config)}}class cx extends aX{static [aF]="PgLine";getSQLType(){return"line"}mapFromDriverValue(a){let[b,c,d]=a.slice(1,-1).split(",");return[Number.parseFloat(b),Number.parseFloat(c),Number.parseFloat(d)]}mapToDriverValue(a){return`{${a[0]},${a[1]},${a[2]}}`}}class cy extends aW{static [aF]="PgLineABCBuilder";constructor(a){super(a,"json","PgLineABC")}build(a){return new cz(a,this.config)}}class cz extends aX{static [aF]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(a){let[b,c,d]=a.slice(1,-1).split(",");return{a:Number.parseFloat(b),b:Number.parseFloat(c),c:Number.parseFloat(d)}}mapToDriverValue(a){return`{${a.a},${a.b},${a.c}}`}}function cA(a,b){let{name:c,config:d}=bM(a,b);return d?.mode&&"tuple"!==d.mode?new cy(c):new cw(c)}class cB extends aW{static [aF]="PgMacaddrBuilder";constructor(a){super(a,"string","PgMacaddr")}build(a){return new cC(a,this.config)}}class cC extends aX{static [aF]="PgMacaddr";getSQLType(){return"macaddr"}}function cD(a){return new cB(a??"")}class cE extends aW{static [aF]="PgMacaddr8Builder";constructor(a){super(a,"string","PgMacaddr8")}build(a){return new cF(a,this.config)}}class cF extends aX{static [aF]="PgMacaddr8";getSQLType(){return"macaddr8"}}function cG(a){return new cE(a??"")}class cH extends aW{static [aF]="PgNumericBuilder";constructor(a,b,c){super(a,"string","PgNumeric"),this.config.precision=b,this.config.scale=c}build(a){return new cI(a,this.config)}}class cI extends aX{static [aF]="PgNumeric";precision;scale;constructor(a,b){super(a,b),this.precision=b.precision,this.scale=b.scale}mapFromDriverValue(a){return"string"==typeof a?a:String(a)}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class cJ extends aW{static [aF]="PgNumericNumberBuilder";constructor(a,b,c){super(a,"number","PgNumericNumber"),this.config.precision=b,this.config.scale=c}build(a){return new cK(a,this.config)}}class cK extends aX{static [aF]="PgNumericNumber";precision;scale;constructor(a,b){super(a,b),this.precision=b.precision,this.scale=b.scale}mapFromDriverValue(a){return"number"==typeof a?a:Number(a)}mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class cL extends aW{static [aF]="PgNumericBigIntBuilder";constructor(a,b,c){super(a,"bigint","PgNumericBigInt"),this.config.precision=b,this.config.scale=c}build(a){return new cM(a,this.config)}}class cM extends aX{static [aF]="PgNumericBigInt";precision;scale;constructor(a,b){super(a,b),this.precision=b.precision,this.scale=b.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function cN(a,b){let{name:c,config:d}=bM(a,b),e=d?.mode;return"number"===e?new cJ(c,d?.precision,d?.scale):"bigint"===e?new cL(c,d?.precision,d?.scale):new cH(c,d?.precision,d?.scale)}class cO extends aW{static [aF]="PgPointTupleBuilder";constructor(a){super(a,"array","PgPointTuple")}build(a){return new cP(a,this.config)}}class cP extends aX{static [aF]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(a){if("string"==typeof a){let[b,c]=a.slice(1,-1).split(",");return[Number.parseFloat(b),Number.parseFloat(c)]}return[a.x,a.y]}mapToDriverValue(a){return`(${a[0]},${a[1]})`}}class cQ extends aW{static [aF]="PgPointObjectBuilder";constructor(a){super(a,"json","PgPointObject")}build(a){return new cR(a,this.config)}}class cR extends aX{static [aF]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(a){if("string"==typeof a){let[b,c]=a.slice(1,-1).split(",");return{x:Number.parseFloat(b),y:Number.parseFloat(c)}}return a}mapToDriverValue(a){return`(${a.x},${a.y})`}}function cS(a,b){let{name:c,config:d}=bM(a,b);return d?.mode&&"tuple"!==d.mode?new cQ(c):new cO(c)}function cT(a,b){let c=new DataView(new ArrayBuffer(8));for(let d=0;d<8;d++)c.setUint8(d,a[b+d]);return c.getFloat64(0,!0)}function cU(a){let b=function(a){let b=[];for(let c=0;c<a.length;c+=2)b.push(Number.parseInt(a.slice(c,c+2),16));return new Uint8Array(b)}(a),c=0,d=b[0];c+=1;let e=new DataView(b.buffer),f=e.getUint32(c,1===d);if(c+=4,0x20000000&f&&(e.getUint32(c,1===d),c+=4),(65535&f)==1){let a=cT(b,c),d=cT(b,c+=8);return c+=8,[a,d]}throw Error("Unsupported geometry type")}class cV extends aW{static [aF]="PgGeometryBuilder";constructor(a){super(a,"array","PgGeometry")}build(a){return new cW(a,this.config)}}class cW extends aX{static [aF]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(a){return cU(a)}mapToDriverValue(a){return`point(${a[0]} ${a[1]})`}}class cX extends aW{static [aF]="PgGeometryObjectBuilder";constructor(a){super(a,"json","PgGeometryObject")}build(a){return new cY(a,this.config)}}class cY extends aX{static [aF]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(a){let b=cU(a);return{x:b[0],y:b[1]}}mapToDriverValue(a){return`point(${a.x} ${a.y})`}}function cZ(a,b){let{name:c,config:d}=bM(a,b);return d?.mode&&"tuple"!==d.mode?new cX(c):new cV(c)}class c$ extends aW{static [aF]="PgRealBuilder";constructor(a,b){super(a,"number","PgReal"),this.config.length=b}build(a){return new c_(a,this.config)}}class c_ extends aX{static [aF]="PgReal";constructor(a,b){super(a,b)}getSQLType(){return"real"}mapFromDriverValue=a=>"string"==typeof a?Number.parseFloat(a):a}function c0(a){return new c$(a??"")}class c1 extends aW{static [aF]="PgSerialBuilder";constructor(a){super(a,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(a){return new c2(a,this.config)}}class c2 extends aX{static [aF]="PgSerial";getSQLType(){return"serial"}}function c3(a){return new c1(a??"")}class c4 extends bN{static [aF]="PgSmallIntBuilder";constructor(a){super(a,"number","PgSmallInt")}build(a){return new c5(a,this.config)}}class c5 extends aX{static [aF]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=a=>"string"==typeof a?Number(a):a}function c6(a){return new c4(a??"")}class c7 extends aW{static [aF]="PgSmallSerialBuilder";constructor(a){super(a,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(a){return new c8(a,this.config)}}class c8 extends aX{static [aF]="PgSmallSerial";getSQLType(){return"smallserial"}}function c9(a){return new c7(a??"")}class da extends aW{static [aF]="PgTextBuilder";constructor(a,b){super(a,"string","PgText"),this.config.enumValues=b.enum}build(a){return new db(a,this.config)}}class db extends aX{static [aF]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function dc(a,b={}){let{name:c,config:d}=bM(a,b);return new da(c,d)}class dd extends b8{constructor(a,b,c){super(a,"string","PgTime"),this.withTimezone=b,this.precision=c,this.config.withTimezone=b,this.config.precision=c}static [aF]="PgTimeBuilder";build(a){return new de(a,this.config)}}class de extends aX{static [aF]="PgTime";withTimezone;precision;constructor(a,b){super(a,b),this.withTimezone=b.withTimezone,this.precision=b.precision}getSQLType(){let a=void 0===this.precision?"":`(${this.precision})`;return`time${a}${this.withTimezone?" with time zone":""}`}}function df(a,b={}){let{name:c,config:d}=bM(a,b);return new dd(c,d.withTimezone??!1,d.precision)}class dg extends b8{static [aF]="PgTimestampBuilder";constructor(a,b,c){super(a,"date","PgTimestamp"),this.config.withTimezone=b,this.config.precision=c}build(a){return new dh(a,this.config)}}class dh extends aX{static [aF]="PgTimestamp";withTimezone;precision;constructor(a,b){super(a,b),this.withTimezone=b.withTimezone,this.precision=b.precision}getSQLType(){let a=void 0===this.precision?"":` (${this.precision})`;return`timestamp${a}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(a){return"string"==typeof a?new Date(this.withTimezone?a:a+"+0000"):a}mapToDriverValue=a=>a.toISOString()}class di extends b8{static [aF]="PgTimestampStringBuilder";constructor(a,b,c){super(a,"string","PgTimestampString"),this.config.withTimezone=b,this.config.precision=c}build(a){return new dj(a,this.config)}}class dj extends aX{static [aF]="PgTimestampString";withTimezone;precision;constructor(a,b){super(a,b),this.withTimezone=b.withTimezone,this.precision=b.precision}getSQLType(){let a=void 0===this.precision?"":`(${this.precision})`;return`timestamp${a}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(a){if("string"==typeof a)return a;let b=a.toISOString().slice(0,-1).replace("T"," ");if(this.withTimezone){let c=a.getTimezoneOffset();return`${b}${c<=0?"+":"-"}${Math.floor(Math.abs(c)/60).toString().padStart(2,"0")}`}return b}}function dk(a,b={}){let{name:c,config:d}=bM(a,b);return d?.mode==="string"?new di(c,d.withTimezone??!1,d.precision):new dg(c,d?.withTimezone??!1,d?.precision)}class dl extends aW{static [aF]="PgUUIDBuilder";constructor(a){super(a,"string","PgUUID")}defaultRandom(){return this.default(bs`gen_random_uuid()`)}build(a){return new dm(a,this.config)}}class dm extends aX{static [aF]="PgUUID";getSQLType(){return"uuid"}}function dn(a){return new dl(a??"")}class dp extends aW{static [aF]="PgVarcharBuilder";constructor(a,b){super(a,"string","PgVarchar"),this.config.length=b.length,this.config.enumValues=b.enum}build(a){return new dq(a,this.config)}}class dq extends aX{static [aF]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function dr(a,b={}){let{name:c,config:d}=bM(a,b);return new dp(c,d)}class ds extends aW{static [aF]="PgBinaryVectorBuilder";constructor(a,b){super(a,"string","PgBinaryVector"),this.config.dimensions=b.dimensions}build(a){return new dt(a,this.config)}}class dt extends aX{static [aF]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function du(a,b){let{name:c,config:d}=bM(a,b);return new ds(c,d)}class dv extends aW{static [aF]="PgHalfVectorBuilder";constructor(a,b){super(a,"array","PgHalfVector"),this.config.dimensions=b.dimensions}build(a){return new dw(a,this.config)}}class dw extends aX{static [aF]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){return a.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function dx(a,b){let{name:c,config:d}=bM(a,b);return new dv(c,d)}class dy extends aW{static [aF]="PgSparseVectorBuilder";constructor(a,b){super(a,"string","PgSparseVector"),this.config.dimensions=b.dimensions}build(a){return new dz(a,this.config)}}class dz extends aX{static [aF]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function dA(a,b){let{name:c,config:d}=bM(a,b);return new dy(c,d)}class dB extends aW{static [aF]="PgVectorBuilder";constructor(a,b){super(a,"array","PgVector"),this.config.dimensions=b.dimensions}build(a){return new dC(a,this.config)}}class dC extends aX{static [aF]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){return a.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function dD(a,b){let{name:c,config:d}=bM(a,b);return new dB(c,d)}let dE=Symbol.for("drizzle:PgInlineForeignKeys"),dF=Symbol.for("drizzle:EnableRLS");class dG extends bi{static [aF]="PgTable";static Symbol=Object.assign({},bi.Symbol,{InlineForeignKeys:dE,EnableRLS:dF});[dE]=[];[dF]=!1;[bi.Symbol.ExtraConfigBuilder]=void 0;[bi.Symbol.ExtraConfigColumns]={}}let dH=(a,b,c)=>(function(a,b,c,d,e=a){let f=new dG(a,d,e),g="function"==typeof b?b({bigint:bS,bigserial:bX,boolean:b$,char:b1,cidr:b4,customType:b7,date:cd,doublePrecision:cg,inet:cj,integer:cm,interval:cp,json:cs,jsonb:cv,line:cA,macaddr:cD,macaddr8:cG,numeric:cN,point:cS,geometry:cZ,real:c0,serial:c3,smallint:c6,smallserial:c9,text:dc,time:df,timestamp:dk,uuid:dn,varchar:dr,bit:du,halfvec:dx,sparsevec:dA,vector:dD}):b,h=Object.fromEntries(Object.entries(g).map(([a,b])=>{b.setName(a);let c=b.build(f);return f[dE].push(...b.buildForeignKeys(c,f)),[a,c]})),i=Object.fromEntries(Object.entries(g).map(([a,b])=>(b.setName(a),[a,b.buildExtraConfigColumn(f)]))),j=Object.assign(f,h);return j[bi.Symbol.Columns]=h,j[bi.Symbol.ExtraConfigColumns]=i,c&&(j[dG.Symbol.ExtraConfigBuilder]=c),Object.assign(j,{enableRLS:()=>(j[dG.Symbol.EnableRLS]=!0,j)})})(a,b,c,void 0);class dI{constructor(a,b){this.name=a,this.value=b}static [aF]="PgCheckBuilder";brand;build(a){return new dJ(a,this)}}class dJ{constructor(a,b){this.table=a,this.name=b.name,this.value=b.value}static [aF]="PgCheck";name;value}class dK{constructor(a,b){this.unique=a,this.name=b}static [aF]="PgIndexBuilderOn";on(...a){return new dL(a.map(a=>{if(aG(a,bn))return a;let b=new aZ(a.name,!!a.keyAsName,a.columnType,a.indexConfig);return a.indexConfig=JSON.parse(JSON.stringify(a.defaultConfig)),b}),this.unique,!1,this.name)}onOnly(...a){return new dL(a.map(a=>{if(aG(a,bn))return a;let b=new aZ(a.name,!!a.keyAsName,a.columnType,a.indexConfig);return a.indexConfig=a.defaultConfig,b}),this.unique,!0,this.name)}using(a,...b){return new dL(b.map(a=>{if(aG(a,bn))return a;let b=new aZ(a.name,!!a.keyAsName,a.columnType,a.indexConfig);return a.indexConfig=JSON.parse(JSON.stringify(a.defaultConfig)),b}),this.unique,!0,this.name,a)}}class dL{static [aF]="PgIndexBuilder";config;constructor(a,b,c,d,e="btree"){this.config={name:d,columns:a,unique:b,only:c,method:e}}concurrently(){return this.config.concurrently=!0,this}with(a){return this.config.with=a,this}where(a){return this.config.where=a,this}build(a){return new dM(this.config,a)}}class dM{static [aF]="PgIndex";config;constructor(a,b){this.config={...a,table:b}}}class dN{constructor(a,b){this.name=a,b&&(this.as=b.as,this.for=b.for,this.to=b.to,this.using=b.using,this.withCheck=b.withCheck)}static [aF]="PgPolicy";as;for;to;using;withCheck;_linkedTable;link(a){return this._linkedTable=a,this}}class dO{static [aF]="PgPrimaryKeyBuilder";columns;name;constructor(a,b){this.columns=a,this.name=b}build(a){return new dP(a,this.columns,this.name)}}class dP{constructor(a,b,c){this.table=a,this.columns=b,this.name=c}static [aF]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[dG.Symbol.Name]}_${this.columns.map(a=>a.name).join("_")}_pk`}}let dQ=Symbol.for("drizzle:PgViewConfig");function dR(a){return(a.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(a=>a.toLowerCase()).join("_")}function dS(a){return(a.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((a,b,c)=>a+(0===c?b.toLowerCase():`${b[0].toUpperCase()}${b.slice(1)}`),"")}function dT(a){return a}class dU{static [aF]="CasingCache";cache={};cachedTables={};convert;constructor(a){this.convert="snake_case"===a?dR:"camelCase"===a?dS:dT}getColumnCasing(a){if(!a.keyAsName)return a.name;let b=a.table[bi.Symbol.Schema]??"public",c=a.table[bi.Symbol.OriginalName],d=`${b}.${c}.${a.name}`;return this.cache[d]||this.cacheTable(a.table),this.cache[d]}cacheTable(a){let b=a[bi.Symbol.Schema]??"public",c=a[bi.Symbol.OriginalName],d=`${b}.${c}`;if(!this.cachedTables[d]){for(let b of Object.values(a[bi.Symbol.Columns])){let a=`${d}.${b.name}`;this.cache[a]=this.convert(b.name)}this.cachedTables[d]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class dV extends Error{static [aF]="DrizzleError";constructor({message:a,cause:b}){super(a),this.name="DrizzleError",this.cause=b}}class dW extends Error{constructor(a,b,c){super(`Failed query: ${a}
params: ${b}`),this.query=a,this.params=b,this.cause=c,Error.captureStackTrace(this,dW),c&&(this.cause=c)}}class dX extends dV{static [aF]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}function dY(a,b){return"object"!=typeof b||null===b||!("mapToDriverValue"in b)||"function"!=typeof b.mapToDriverValue||bl(a)||aG(a,br)||aG(a,bv)||aG(a,aL)||aG(a,bi)||aG(a,by)?a:new br(a,b)}let dZ=(a,b)=>bs`${a} = ${dY(b,a)}`,d$=(a,b)=>bs`${a} <> ${dY(b,a)}`;function d_(...a){let b=a.filter(a=>void 0!==a);if(0!==b.length)return new bn(1===b.length?b:[new bm("("),bs.join(b,new bm(" and ")),new bm(")")])}function d0(...a){let b=a.filter(a=>void 0!==a);if(0!==b.length)return new bn(1===b.length?b:[new bm("("),bs.join(b,new bm(" or ")),new bm(")")])}function d1(a){return bs`not ${a}`}let d2=(a,b)=>bs`${a} > ${dY(b,a)}`,d3=(a,b)=>bs`${a} >= ${dY(b,a)}`,d4=(a,b)=>bs`${a} < ${dY(b,a)}`,d5=(a,b)=>bs`${a} <= ${dY(b,a)}`;function d6(a,b){return Array.isArray(b)?0===b.length?bs`false`:bs`${a} in ${b.map(b=>dY(b,a))}`:bs`${a} in ${dY(b,a)}`}function d7(a,b){return Array.isArray(b)?0===b.length?bs`true`:bs`${a} not in ${b.map(b=>dY(b,a))}`:bs`${a} not in ${dY(b,a)}`}function d8(a){return bs`${a} is null`}function d9(a){return bs`${a} is not null`}function ea(a){return bs`exists ${a}`}function eb(a){return bs`not exists ${a}`}function ec(a,b,c){return bs`${a} between ${dY(b,a)} and ${dY(c,a)}`}function ed(a,b,c){return bs`${a} not between ${dY(b,a)} and ${dY(c,a)}`}function ee(a,b){return bs`${a} like ${b}`}function ef(a,b){return bs`${a} not like ${b}`}function eg(a,b){return bs`${a} ilike ${b}`}function eh(a,b){return bs`${a} not ilike ${b}`}function ei(a){return bs`${a} asc`}function ej(a){return bs`${a} desc`}a.s(["and",()=>d_,"between",()=>ec,"eq",()=>dZ,"exists",()=>ea,"gt",()=>d2,"gte",()=>d3,"ilike",()=>eg,"inArray",()=>d6,"isNotNull",()=>d9,"isNull",()=>d8,"like",()=>ee,"lt",()=>d4,"lte",()=>d5,"ne",()=>d$,"not",()=>d1,"notBetween",()=>ed,"notExists",()=>eb,"notIlike",()=>eh,"notInArray",()=>d7,"notLike",()=>ef,"or",()=>d0],93321);class ek{constructor(a,b,c){this.sourceTable=a,this.referencedTable=b,this.relationName=c,this.referencedTableName=b[bi.Symbol.Name]}static [aF]="Relation";referencedTableName;fieldName}class el{constructor(a,b){this.table=a,this.config=b}static [aF]="Relations"}class em extends ek{constructor(a,b,c,d){super(a,b,c?.relationName),this.config=c,this.isNullable=d}static [aF]="One";withFieldName(a){let b=new em(this.sourceTable,this.referencedTable,this.config,this.isNullable);return b.fieldName=a,b}}class en extends ek{constructor(a,b,c){super(a,b,c?.relationName),this.config=c}static [aF]="Many";withFieldName(a){let b=new en(this.sourceTable,this.referencedTable,this.config);return b.fieldName=a,b}}function eo(a){return{one:function(b,c){return new em(a,b,c,c?.fields.reduce((a,b)=>a&&b.notNull,!0)??!1)},many:function(b,c){return new en(a,b,c)}}}class ep extends by{static [aF]="PgViewBase"}class eq{static [aF]="PgDialect";casing;constructor(a){this.casing=new dU(a?.casing)}async migrate(a,b,c){let d="string"==typeof c?"__drizzle_migrations":c.migrationsTable??"__drizzle_migrations",e="string"==typeof c?"drizzle":c.migrationsSchema??"drizzle",f=bs`
			CREATE TABLE IF NOT EXISTS ${bs.identifier(e)}.${bs.identifier(d)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await b.execute(bs`CREATE SCHEMA IF NOT EXISTS ${bs.identifier(e)}`),await b.execute(f);let g=(await b.all(bs`select id, hash, created_at from ${bs.identifier(e)}.${bs.identifier(d)} order by created_at desc limit 1`))[0];await b.transaction(async b=>{for await(let c of a)if(!g||Number(g.created_at)<c.folderMillis){for(let a of c.sql)await b.execute(bs.raw(a));await b.execute(bs`insert into ${bs.identifier(e)}.${bs.identifier(d)} ("hash", "created_at") values(${c.hash}, ${c.folderMillis})`)}})}escapeName(a){return`"${a}"`}escapeParam(a){return`$${a+1}`}escapeString(a){return`'${a.replace(/'/g,"''")}'`}buildWithCTE(a){if(!a?.length)return;let b=[bs`with `];for(let[c,d]of a.entries())b.push(bs`${bs.identifier(d._.alias)} as (${d._.sql})`),c<a.length-1&&b.push(bs`, `);return b.push(bs` `),bs.join(b)}buildDeleteQuery({table:a,where:b,returning:c,withList:d}){let e=this.buildWithCTE(d),f=c?bs` returning ${this.buildSelection(c,{isSingleTable:!0})}`:void 0,g=b?bs` where ${b}`:void 0;return bs`${e}delete from ${a}${g}${f}`}buildUpdateSet(a,b){let c=a[bi.Symbol.Columns],d=Object.keys(c).filter(a=>void 0!==b[a]||c[a]?.onUpdateFn!==void 0),e=d.length;return bs.join(d.flatMap((a,d)=>{let f=c[a],g=f.onUpdateFn?.(),h=b[a]??(aG(g,bn)?g:bs.param(g,f)),i=bs`${bs.identifier(this.casing.getColumnCasing(f))} = ${h}`;return d<e-1?[i,bs.raw(", ")]:[i]}))}buildUpdateQuery({table:a,set:b,where:c,returning:d,withList:e,from:f,joins:g}){let h=this.buildWithCTE(e),i=a[dG.Symbol.Name],j=a[dG.Symbol.Schema],k=a[dG.Symbol.OriginalName],l=i===k?void 0:i,m=bs`${j?bs`${bs.identifier(j)}.`:void 0}${bs.identifier(k)}${l&&bs` ${bs.identifier(l)}`}`,n=this.buildUpdateSet(a,b),o=f&&bs.join([bs.raw(" from "),this.buildFromTable(f)]),p=this.buildJoins(g),q=d?bs` returning ${this.buildSelection(d,{isSingleTable:!f})}`:void 0,r=c?bs` where ${c}`:void 0;return bs`${h}update ${m} set ${n}${o}${p}${r}${q}`}buildSelection(a,{isSingleTable:b=!1}={}){let c=a.length,d=a.flatMap(({field:a},d)=>{let e=[];if(aG(a,bn.Aliased)&&a.isSelectionField)e.push(bs.identifier(a.fieldAlias));else if(aG(a,bn.Aliased)||aG(a,bn)){let c=aG(a,bn.Aliased)?a.sql:a;b?e.push(new bn(c.queryChunks.map(a=>aG(a,aX)?bs.identifier(this.casing.getColumnCasing(a)):a))):e.push(c),aG(a,bn.Aliased)&&e.push(bs` as ${bs.identifier(a.fieldAlias)}`)}else if(aG(a,aL))b?e.push(bs.identifier(this.casing.getColumnCasing(a))):e.push(a);else if(aG(a,a6)){let b=Object.entries(a._.selectedFields);if(1===b.length){let c=b[0][1],d=aG(c,bn)?c.decoder:aG(c,aL)?{mapFromDriverValue:a=>c.mapFromDriverValue(a)}:c.sql.decoder;d&&(a._.sql.decoder=d)}e.push(a)}return d<c-1&&e.push(bs`, `),e});return bs.join(d)}buildJoins(a){if(!a||0===a.length)return;let b=[];for(let[c,d]of a.entries()){0===c&&b.push(bs` `);let e=d.table,f=d.lateral?bs` lateral`:void 0,g=d.on?bs` on ${d.on}`:void 0;if(aG(e,dG)){let a=e[dG.Symbol.Name],c=e[dG.Symbol.Schema],h=e[dG.Symbol.OriginalName],i=a===h?void 0:d.alias;b.push(bs`${bs.raw(d.joinType)} join${f} ${c?bs`${bs.identifier(c)}.`:void 0}${bs.identifier(h)}${i&&bs` ${bs.identifier(i)}`}${g}`)}else if(aG(e,by)){let a=e[a9].name,c=e[a9].schema,h=e[a9].originalName,i=a===h?void 0:d.alias;b.push(bs`${bs.raw(d.joinType)} join${f} ${c?bs`${bs.identifier(c)}.`:void 0}${bs.identifier(h)}${i&&bs` ${bs.identifier(i)}`}${g}`)}else b.push(bs`${bs.raw(d.joinType)} join${f} ${e}${g}`);c<a.length-1&&b.push(bs` `)}return bs.join(b)}buildFromTable(a){if(aG(a,bi)&&a[bi.Symbol.IsAlias]){let b=bs`${bs.identifier(a[bi.Symbol.OriginalName])}`;return a[bi.Symbol.Schema]&&(b=bs`${bs.identifier(a[bi.Symbol.Schema])}.${b}`),bs`${b} ${bs.identifier(a[bi.Symbol.Name])}`}return a}buildSelectQuery({withList:a,fields:b,fieldsFlat:c,where:d,having:e,table:f,joins:g,orderBy:h,groupBy:i,limit:j,offset:k,lockingClause:l,distinct:m,setOperators:n}){let o,p,q,r=c??bH(b);for(let a of r){let b;if(aG(a.field,aL)&&a.field.table[aN]!==(aG(f,a6)?f._.alias:aG(f,ep)?f[a9].name:aG(f,bn)?void 0:f[aN])&&(b=a.field.table,!g?.some(({alias:a})=>a===(b[bi.Symbol.IsAlias]?b[aN]:b[bi.Symbol.BaseName])))){let b=a.field.table[aN];throw Error(`Your "${a.path.join("->")}" field references a column "${b}"."${a.field.name}", but the table "${b}" is not part of the query! Did you forget to join it?`)}}let s=!g||0===g.length,t=this.buildWithCTE(a);m&&(o=!0===m?bs` distinct`:bs` distinct on (${bs.join(m.on,bs`, `)})`);let u=this.buildSelection(r,{isSingleTable:s}),v=this.buildFromTable(f),w=this.buildJoins(g),x=d?bs` where ${d}`:void 0,y=e?bs` having ${e}`:void 0;h&&h.length>0&&(p=bs` order by ${bs.join(h,bs`, `)}`),i&&i.length>0&&(q=bs` group by ${bs.join(i,bs`, `)}`);let z="object"==typeof j||"number"==typeof j&&j>=0?bs` limit ${j}`:void 0,A=k?bs` offset ${k}`:void 0,B=bs.empty();if(l){let a=bs` for ${bs.raw(l.strength)}`;l.config.of&&a.append(bs` of ${bs.join(Array.isArray(l.config.of)?l.config.of:[l.config.of],bs`, `)}`),l.config.noWait?a.append(bs` nowait`):l.config.skipLocked&&a.append(bs` skip locked`),B.append(a)}let C=bs`${t}select${o} ${u} from ${v}${w}${x}${q}${y}${p}${z}${A}${B}`;return n.length>0?this.buildSetOperations(C,n):C}buildSetOperations(a,b){let[c,...d]=b;if(!c)throw Error("Cannot pass undefined values to any set operator");return 0===d.length?this.buildSetOperationQuery({leftSelect:a,setOperator:c}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:a,setOperator:c}),d)}buildSetOperationQuery({leftSelect:a,setOperator:{type:b,isAll:c,rightSelect:d,limit:e,orderBy:f,offset:g}}){let h,i=bs`(${a.getSQL()}) `,j=bs`(${d.getSQL()})`;if(f&&f.length>0){let a=[];for(let b of f)if(aG(b,aX))a.push(bs.identifier(b.name));else if(aG(b,bn)){for(let a=0;a<b.queryChunks.length;a++){let c=b.queryChunks[a];aG(c,aX)&&(b.queryChunks[a]=bs.identifier(c.name))}a.push(bs`${b}`)}else a.push(bs`${b}`);h=bs` order by ${bs.join(a,bs`, `)} `}let k="object"==typeof e||"number"==typeof e&&e>=0?bs` limit ${e}`:void 0,l=bs.raw(`${b} ${c?"all ":""}`),m=g?bs` offset ${g}`:void 0;return bs`${i}${l}${j}${h}${k}${m}`}buildInsertQuery({table:a,values:b,onConflict:c,returning:d,withList:e,select:f,overridingSystemValue_:g}){let h=[],i=Object.entries(a[bi.Symbol.Columns]).filter(([a,b])=>!b.shouldDisableInsert()),j=i.map(([,a])=>bs.identifier(this.casing.getColumnCasing(a)));if(f)aG(b,bn)?h.push(b):h.push(b.getSQL());else for(let[a,c]of(h.push(bs.raw("values ")),b.entries())){let d=[];for(let[a,b]of i){let e=c[a];if(void 0===e||aG(e,br)&&void 0===e.value)if(void 0!==b.defaultFn){let a=b.defaultFn(),c=aG(a,bn)?a:bs.param(a,b);d.push(c)}else if(b.default||void 0===b.onUpdateFn)d.push(bs`default`);else{let a=b.onUpdateFn(),c=aG(a,bn)?a:bs.param(a,b);d.push(c)}else d.push(e)}h.push(d),a<b.length-1&&h.push(bs`, `)}let k=this.buildWithCTE(e),l=bs.join(h),m=d?bs` returning ${this.buildSelection(d,{isSingleTable:!0})}`:void 0,n=c?bs` on conflict ${c}`:void 0,o=!0===g?bs`overriding system value `:void 0;return bs`${k}insert into ${a} ${j} ${o}${l}${n}${m}`}buildRefreshMaterializedViewQuery({view:a,concurrently:b,withNoData:c}){let d=b?bs` concurrently`:void 0,e=c?bs` with no data`:void 0;return bs`refresh materialized view${d} ${a}${e}`}prepareTyping(a){if(aG(a,cu)||aG(a,cr))return"json";if(aG(a,cI))return"decimal";if(aG(a,de))return"time";if(aG(a,dh)||aG(a,dj))return"timestamp";if(aG(a,ca)||aG(a,cc))return"date";else if(aG(a,dm))return"uuid";else return"none"}sqlToQuery(a,b){return a.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:b})}buildRelationalQueryWithoutPK({fullSchema:a,schema:b,tableNamesMap:c,table:d,tableConfig:e,queryConfig:f,tableAlias:g,nestedQueryRelation:h,joinOn:i}){let j,k=[],l,m,n=[],o,p=[];if(!0===f)k=Object.entries(e.columns).map(([a,b])=>({dbKey:b.name,tsKey:a,field:bD(b,g),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let d=Object.fromEntries(Object.entries(e.columns).map(([a,b])=>[a,bD(b,g)]));if(f.where){let a="function"==typeof f.where?f.where(d,{and:d_,between:ec,eq:dZ,exists:ea,gt:d2,gte:d3,ilike:eg,inArray:d6,isNull:d8,isNotNull:d9,like:ee,lt:d4,lte:d5,ne:d$,not:d1,notBetween:ed,notExists:eb,notLike:ef,notIlike:eh,notInArray:d7,or:d0,sql:bs}):f.where;o=a&&bF(a,g)}let h=[],i=[];if(f.columns){let a=!1;for(let[b,c]of Object.entries(f.columns))void 0!==c&&b in e.columns&&(a||!0!==c||(a=!0),i.push(b));i.length>0&&(i=a?i.filter(a=>f.columns?.[a]===!0):Object.keys(e.columns).filter(a=>!i.includes(a)))}else i=Object.keys(e.columns);for(let a of i){let b=e.columns[a];h.push({tsKey:a,value:b})}let j=[];if(f.with&&(j=Object.entries(f.with).filter(a=>!!a[1]).map(([a,b])=>({tsKey:a,queryConfig:b,relation:e.relations[a]}))),f.extras)for(let[a,b]of Object.entries("function"==typeof f.extras?f.extras(d,{sql:bs}):f.extras))h.push({tsKey:a,value:bE(b,g)});for(let{tsKey:a,value:b}of h)k.push({dbKey:aG(b,bn.Aliased)?b.fieldAlias:e.columns[a].name,tsKey:a,field:aG(b,aL)?bD(b,g):b,relationTableTsKey:void 0,isJson:!1,selection:[]});let q="function"==typeof f.orderBy?f.orderBy(d,{sql:bs,asc:ei,desc:ej}):f.orderBy??[];for(let{tsKey:d,queryConfig:e,relation:h}of(Array.isArray(q)||(q=[q]),n=q.map(a=>aG(a,aL)?bD(a,g):bF(a,g)),l=f.limit,m=f.offset,j)){let f=function(a,b,c){if(aG(c,em)&&c.config)return{fields:c.config.fields,references:c.config.references};let d=b[bj(c.referencedTable)];if(!d)throw Error(`Table "${c.referencedTable[bi.Symbol.Name]}" not found in schema`);let e=a[d];if(!e)throw Error(`Table "${d}" not found in schema`);let f=c.sourceTable,g=b[bj(f)];if(!g)throw Error(`Table "${f[bi.Symbol.Name]}" not found in schema`);let h=[];for(let a of Object.values(e.relations))(c.relationName&&c!==a&&a.relationName===c.relationName||!c.relationName&&a.referencedTable===c.sourceTable)&&h.push(a);if(h.length>1)throw c.relationName?Error(`There are multiple relations with name "${c.relationName}" in table "${d}"`):Error(`There are multiple relations between "${d}" and "${c.sourceTable[bi.Symbol.Name]}". Please specify relation name`);if(h[0]&&aG(h[0],em)&&h[0].config)return{fields:h[0].config.references,references:h[0].config.fields};throw Error(`There is not enough information to infer relation "${g}.${c.fieldName}"`)}(b,c,h),i=c[bj(h.referencedTable)],j=`${g}_${d}`,l=d_(...f.fields.map((a,b)=>dZ(bD(f.references[b],j),bD(a,g)))),m=this.buildRelationalQueryWithoutPK({fullSchema:a,schema:b,tableNamesMap:c,table:a[i],tableConfig:b[i],queryConfig:aG(h,em)?!0===e?{limit:1}:{...e,limit:1}:e,tableAlias:j,joinOn:l,nestedQueryRelation:h}),n=bs`${bs.identifier(j)}.${bs.identifier("data")}`.as(d);p.push({on:bs`true`,table:new a6(m.sql,{},j),alias:j,joinType:"left",lateral:!0}),k.push({dbKey:d,tsKey:d,field:n,relationTableTsKey:i,isJson:!0,selection:m.selection})}}if(0===k.length)throw new dV({message:`No fields selected for table "${e.tsName}" ("${g}")`});if(o=d_(i,o),h){let a=bs`json_build_array(${bs.join(k.map(({field:a,tsKey:b,isJson:c})=>c?bs`${bs.identifier(`${g}_${b}`)}.${bs.identifier("data")}`:aG(a,bn.Aliased)?a.sql:a),bs`, `)})`;aG(h,en)&&(a=bs`coalesce(json_agg(${a}${n.length>0?bs` order by ${bs.join(n,bs`, `)}`:void 0}), '[]'::json)`);let b=[{dbKey:"data",tsKey:"data",field:a.as("data"),isJson:!0,relationTableTsKey:e.tsName,selection:k}];void 0!==l||void 0!==m||n.length>0?(j=this.buildSelectQuery({table:bC(d,g),fields:{},fieldsFlat:[{path:[],field:bs.raw("*")}],where:o,limit:l,offset:m,orderBy:n,setOperators:[]}),o=void 0,l=void 0,m=void 0,n=[]):j=bC(d,g),j=this.buildSelectQuery({table:aG(j,dG)?j:new a6(j,{},g),fields:{},fieldsFlat:b.map(({field:a})=>({path:[],field:aG(a,aL)?bD(a,g):a})),joins:p,where:o,limit:l,offset:m,orderBy:n,setOperators:[]})}else j=this.buildSelectQuery({table:bC(d,g),fields:{},fieldsFlat:k.map(({field:a})=>({path:[],field:aG(a,aL)?bD(a,g):a})),joins:p,where:o,limit:l,offset:m,orderBy:n,setOperators:[]});return{tableTsKey:e.tsName,sql:j,selection:k}}}class er{static [aF]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class es{static [aF]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(a){this.fields=a.fields,this.session=a.session,this.dialect=a.dialect,a.withList&&(this.withList=a.withList),this.distinct=a.distinct}authToken;setToken(a){return this.authToken=a,this}from(a){let b,c=!!this.fields;return b=this.fields?this.fields:aG(a,a6)?Object.fromEntries(Object.keys(a._.selectedFields).map(b=>[b,a[b]])):aG(a,ep)?a[a9].selectedFields:aG(a,bn)?{}:bK(a),new eu({table:a,fields:b,isPartialSelect:c,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}class et extends er{static [aF]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:a,fields:b,isPartialSelect:c,session:d,dialect:e,withList:f,distinct:g}){for(const h of(super(),this.config={withList:f,table:a,fields:{...b},distinct:g,setOperators:[]},this.isPartialSelect=c,this.session=d,this.dialect=e,this._={selectedFields:b,config:this.config},this.tableName=bL(a),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{},eN(a)))this.usedTables.add(h)}getUsedTables(){return[...this.usedTables]}createJoin(a,b){return(c,d)=>{let e=this.tableName,f=bL(c);for(let a of eN(c))this.usedTables.add(a);if("string"==typeof f&&this.config.joins?.some(a=>a.alias===f))throw Error(`Alias "${f}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof e&&(this.config.fields={[e]:this.config.fields}),"string"==typeof f&&!aG(c,bn))){let a=aG(c,a6)?c._.selectedFields:aG(c,by)?c[a9].selectedFields:c[bi.Symbol.Columns];this.config.fields[f]=a}if("function"==typeof d&&(d=d(new Proxy(this.config.fields,new bG({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:d,table:c,joinType:a,alias:f,lateral:b}),"string"==typeof f)switch(a){case"left":this.joinsNotNullableMap[f]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[f]=!0;break;case"cross":case"inner":this.joinsNotNullableMap[f]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[f]=!1}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(a,b){return c=>{let d="function"==typeof c?c(ew()):c;if(!bI(this.getSelectedFields(),d.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:a,isAll:b,rightSelect:d}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(a){return this.config.setOperators.push(...a),this}where(a){return"function"==typeof a&&(a=a(new Proxy(this.config.fields,new bG({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=a,this}having(a){return"function"==typeof a&&(a=a(new Proxy(this.config.fields,new bG({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=a,this}groupBy(...a){if("function"==typeof a[0]){let b=a[0](new Proxy(this.config.fields,new bG({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(b)?b:[b]}else this.config.groupBy=a;return this}orderBy(...a){if("function"==typeof a[0]){let b=a[0](new Proxy(this.config.fields,new bG({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),c=Array.isArray(b)?b:[b];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=c:this.config.orderBy=c}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=a:this.config.orderBy=a;return this}limit(a){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=a:this.config.limit=a,this}offset(a){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=a:this.config.offset=a,this}for(a,b={}){return this.config.lockingClause={strength:a,config:b},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}as(a){let b=[];if(b.push(...eN(this.config.table)),this.config.joins)for(let a of this.config.joins)b.push(...eN(a.table));return new Proxy(new a6(this.getSQL(),this.config.fields,a,!1,[...new Set(b)]),new bG({alias:a,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new bG({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(a){return this.cacheConfig=void 0===a?{config:{},enable:!0,autoInvalidate:!0}:!1===a?{enable:!1}:{enable:!0,autoInvalidate:!0,...a},this}}class eu extends et{static [aF]="PgSelect";_prepare(a){let{session:b,config:c,dialect:d,joinsNotNullableMap:e,authToken:f,cacheConfig:g,usedTables:h}=this;if(!b)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:i}=c;return a8("drizzle.prepareQuery",()=>{let c=bH(i),j=b.prepareQuery(d.sqlToQuery(this.getSQL()),c,a,!0,void 0,{type:"select",tables:[...h]},g);return j.joinsNotNullableMap=e,j.setToken(f)})}prepare(a){return this._prepare(a)}authToken;setToken(a){return this.authToken=a,this}execute=a=>a8("drizzle.operation",()=>this._prepare().execute(a,this.authToken))}for(let a of[aK])for(let b of Object.getOwnPropertyNames(a.prototype))"constructor"!==b&&Object.defineProperty(eu.prototype,b,Object.getOwnPropertyDescriptor(a.prototype,b)||Object.create(null));function ev(a,b){return(c,d,...e)=>{let f=[d,...e].map(c=>({type:a,isAll:b,rightSelect:c}));for(let a of f)if(!bI(c.getSelectedFields(),a.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return c.addSetOperators(f)}}let ew=()=>({union:ex,unionAll:ey,intersect:ez,intersectAll:eA,except:eB,exceptAll:eC}),ex=ev("union",!1),ey=ev("union",!0),ez=ev("intersect",!1),eA=ev("intersect",!0),eB=ev("except",!1),eC=ev("except",!0);class eD{static [aF]="PgQueryBuilder";dialect;dialectConfig;constructor(a){this.dialect=aG(a,eq)?a:void 0,this.dialectConfig=aG(a,eq)?void 0:a}$with=(a,b)=>{let c=this;return{as:d=>("function"==typeof d&&(d=d(c)),new Proxy(new a7(d.getSQL(),b??("getSelectedFields"in d?d.getSelectedFields()??{}:{}),a,!0),new bG({alias:a,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...a){let b=this;return{select:function(c){return new es({fields:c??void 0,session:void 0,dialect:b.getDialect(),withList:a})},selectDistinct:function(a){return new es({fields:a??void 0,session:void 0,dialect:b.getDialect(),distinct:!0})},selectDistinctOn:function(a,c){return new es({fields:c??void 0,session:void 0,dialect:b.getDialect(),distinct:{on:a}})}}}select(a){return new es({fields:a??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(a){return new es({fields:a??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(a,b){return new es({fields:b??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:a}})}getDialect(){return this.dialect||(this.dialect=new eq(this.dialectConfig)),this.dialect}}class eE{constructor(a,b){this.name=a,this.schema=b}static [aF]="PgDefaultViewBuilderCore";config={};with(a){return this.config.with=a,this}}class eF extends eE{static [aF]="PgViewBuilder";as(a){"function"==typeof a&&(a=a(new eD));let b=new bG({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),c=new Proxy(a.getSelectedFields(),b);return new Proxy(new eK({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:c,query:a.getSQL().inlineParams()}}),b)}}class eG extends eE{static [aF]="PgManualViewBuilder";columns;constructor(a,b,c){super(a,c),this.columns=bK(dH(a,b))}existing(){return new Proxy(new eK({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new bG({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(a){return new Proxy(new eK({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:a.inlineParams()}}),new bG({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class eH{constructor(a,b){this.name=a,this.schema=b}static [aF]="PgMaterializedViewBuilderCore";config={};using(a){return this.config.using=a,this}with(a){return this.config.with=a,this}tablespace(a){return this.config.tablespace=a,this}withNoData(){return this.config.withNoData=!0,this}}class eI extends eH{static [aF]="PgMaterializedViewBuilder";as(a){"function"==typeof a&&(a=a(new eD));let b=new bG({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),c=new Proxy(a.getSelectedFields(),b);return new Proxy(new eM({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:c,query:a.getSQL().inlineParams()}}),b)}}class eJ extends eH{static [aF]="PgManualMaterializedViewBuilder";columns;constructor(a,b,c){super(a,c),this.columns=bK(dH(a,b))}existing(){return new Proxy(new eM({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new bG({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(a){return new Proxy(new eM({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:a.inlineParams()}}),new bG({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class eK extends ep{static [aF]="PgView";[dQ];constructor({pgConfig:a,config:b}){super(b),a&&(this[dQ]={with:a.with})}}let eL=Symbol.for("drizzle:PgMaterializedViewConfig");class eM extends ep{static [aF]="PgMaterializedView";[eL];constructor({pgConfig:a,config:b}){super(b),this[eL]={with:a?.with,using:a?.using,tablespace:a?.tablespace,withNoData:a?.withNoData}}}function eN(a){return aG(a,dG)?[a[ba]?`${a[ba]}.${a[bi.Symbol.BaseName]}`:a[bi.Symbol.BaseName]]:aG(a,a6)?a._.usedTables??[]:aG(a,bn)?a.usedTables??[]:[]}class eO extends aK{constructor(a,b,c,d){super(),this.session=b,this.dialect=c,this.config={table:a,withList:d}}static [aF]="PgDelete";config;cacheConfig;where(a){return this.config.where=a,this}returning(a=this.config.table[bi.Symbol.Columns]){return this.config.returningFields=a,this.config.returning=bH(a),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}_prepare(a){return a8("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,a,!0,void 0,{type:"delete",tables:eN(this.config.table)},this.cacheConfig))}prepare(a){return this._prepare(a)}authToken;setToken(a){return this.authToken=a,this}execute=a=>a8("drizzle.operation",()=>this._prepare().execute(a,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new bG({alias:this.config.table[aN],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class eP{constructor(a,b,c,d,e){this.table=a,this.session=b,this.dialect=c,this.withList=d,this.overridingSystemValue_=e}static [aF]="PgInsertBuilder";authToken;setToken(a){return this.authToken=a,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(a){if(0===(a=Array.isArray(a)?a:[a]).length)throw Error("values() must be called with at least one value");let b=a.map(a=>{let b={},c=this.table[bi.Symbol.Columns];for(let d of Object.keys(a)){let e=a[d];b[d]=aG(e,bn)?e:new br(e,c[d])}return b});return new eQ(this.table,b,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(a){let b="function"==typeof a?a(new eD):a;if(!aG(b,bn)&&!bI(this.table[bb],b._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new eQ(this.table,b,this.session,this.dialect,this.withList,!0)}}class eQ extends aK{constructor(a,b,c,d,e,f,g){super(),this.session=c,this.dialect=d,this.config={table:a,values:b,withList:e,select:f,overridingSystemValue_:g}}static [aF]="PgInsert";config;cacheConfig;returning(a=this.config.table[bi.Symbol.Columns]){return this.config.returningFields=a,this.config.returning=bH(a),this}onConflictDoNothing(a={}){if(void 0===a.target)this.config.onConflict=bs`do nothing`;else{let b="";b=Array.isArray(a.target)?a.target.map(a=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(a))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(a.target));let c=a.where?bs` where ${a.where}`:void 0;this.config.onConflict=bs`(${bs.raw(b)})${c} do nothing`}return this}onConflictDoUpdate(a){if(a.where&&(a.targetWhere||a.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let b=a.where?bs` where ${a.where}`:void 0,c=a.targetWhere?bs` where ${a.targetWhere}`:void 0,d=a.setWhere?bs` where ${a.setWhere}`:void 0,e=this.dialect.buildUpdateSet(this.config.table,bJ(this.config.table,a.set)),f="";return f=Array.isArray(a.target)?a.target.map(a=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(a))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(a.target)),this.config.onConflict=bs`(${bs.raw(f)})${c} do update set ${e}${b}${d}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}_prepare(a){return a8("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,a,!0,void 0,{type:"insert",tables:eN(this.config.table)},this.cacheConfig))}prepare(a){return this._prepare(a)}authToken;setToken(a){return this.authToken=a,this}execute=a=>a8("drizzle.operation",()=>this._prepare().execute(a,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new bG({alias:this.config.table[aN],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class eR{constructor(a,b,c,d){this.table=a,this.session=b,this.dialect=c,this.withList=d}static [aF]="PgUpdateBuilder";authToken;setToken(a){return this.authToken=a,this}set(a){return new eS(this.table,bJ(this.table,a),this.session,this.dialect,this.withList).setToken(this.authToken)}}class eS extends aK{constructor(a,b,c,d,e){super(),this.session=c,this.dialect=d,this.config={set:b,table:a,withList:e,joins:[]},this.tableName=bL(a),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}static [aF]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(a){let b=bL(a);return"string"==typeof b&&(this.joinsNotNullableMap[b]=!0),this.config.from=a,this}getTableLikeFields(a){return aG(a,dG)?a[bi.Symbol.Columns]:aG(a,a6)?a._.selectedFields:a[a9].selectedFields}createJoin(a){return(b,c)=>{let d=bL(b);if("string"==typeof d&&this.config.joins.some(a=>a.alias===d))throw Error(`Alias "${d}" is already used in this query`);if("function"==typeof c){let a=this.config.from&&!aG(this.config.from,bn)?this.getTableLikeFields(this.config.from):void 0;c=c(new Proxy(this.config.table[bi.Symbol.Columns],new bG({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),a&&new Proxy(a,new bG({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:c,table:b,joinType:a,alias:d}),"string"==typeof d)switch(a){case"left":this.joinsNotNullableMap[d]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[d]=!0;break;case"inner":this.joinsNotNullableMap[d]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[d]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(a){return this.config.where=a,this}returning(a){if(!a&&(a=Object.assign({},this.config.table[bi.Symbol.Columns]),this.config.from)){let b=bL(this.config.from);if("string"==typeof b&&this.config.from&&!aG(this.config.from,bn)){let c=this.getTableLikeFields(this.config.from);a[b]=c}for(let b of this.config.joins){let c=bL(b.table);if("string"==typeof c&&!aG(b.table,bn)){let d=this.getTableLikeFields(b.table);a[c]=d}}}return this.config.returningFields=a,this.config.returning=bH(a),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}_prepare(a){let b=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,a,!0,void 0,{type:"insert",tables:eN(this.config.table)},this.cacheConfig);return b.joinsNotNullableMap=this.joinsNotNullableMap,b}prepare(a){return this._prepare(a)}authToken;setToken(a){return this.authToken=a,this}execute=a=>this._prepare().execute(a,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new bG({alias:this.config.table[aN],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class eT extends bn{constructor(a){super(eT.buildEmbeddedCount(a.source,a.filters).queryChunks),this.params=a,this.mapWith(Number),this.session=a.session,this.sql=eT.buildCount(a.source,a.filters)}sql;token;static [aF]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(a,b){return bs`(select count(*) from ${a}${bs.raw(" where ").if(b)}${b})`}static buildCount(a,b){return bs`select count(*) as count from ${a}${bs.raw(" where ").if(b)}${b};`}setToken(a){return this.token=a,this}then(a,b){return Promise.resolve(this.session.count(this.sql,this.token)).then(a,b)}catch(a){return this.then(void 0,a)}finally(a){return this.then(b=>(a?.(),b),b=>{throw a?.(),b})}}class eU{constructor(a,b,c,d,e,f,g){this.fullSchema=a,this.schema=b,this.tableNamesMap=c,this.table=d,this.tableConfig=e,this.dialect=f,this.session=g}static [aF]="PgRelationalQueryBuilder";findMany(a){return new eV(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,a||{},"many")}findFirst(a){return new eV(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,a?{...a,limit:1}:{limit:1},"first")}}class eV extends aK{constructor(a,b,c,d,e,f,g,h,i){super(),this.fullSchema=a,this.schema=b,this.tableNamesMap=c,this.table=d,this.tableConfig=e,this.dialect=f,this.session=g,this.config=h,this.mode=i}static [aF]="PgRelationalQuery";_prepare(a){return a8("drizzle.prepareQuery",()=>{let{query:b,builtQuery:c}=this._toSQL();return this.session.prepareQuery(c,void 0,a,!0,(a,c)=>{let d=a.map(a=>(function a(b,c,d,e,f=a=>a){let g={};for(let[h,i]of e.entries())if(i.isJson){let e=c.relations[i.tsKey],j=d[h],k="string"==typeof j?JSON.parse(j):j;g[i.tsKey]=aG(e,em)?k&&a(b,b[i.relationTableTsKey],k,i.selection,f):k.map(c=>a(b,b[i.relationTableTsKey],c,i.selection,f))}else{let a,b=f(d[h]),c=i.field;a=aG(c,aL)?c:aG(c,bn)?c.decoder:c.sql.decoder,g[i.tsKey]=null===b?null:a.mapFromDriverValue(b)}return g})(this.schema,this.tableConfig,a,b.selection,c));return"first"===this.mode?d[0]:d})})}prepare(a){return this._prepare(a)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let a=this._getQuery(),b=this.dialect.sqlToQuery(a.sql);return{query:a,builtQuery:b}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(a){return this.authToken=a,this}execute(){return a8("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}class eW extends aK{constructor(a,b,c,d){super(),this.execute=a,this.sql=b,this.query=c,this.mapBatchResult=d}static [aF]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(a,b){return b?this.mapBatchResult(a):a}_prepare(){return this}isResponseInArrayMode(){return!1}}class eX extends aK{constructor(a,b,c){super(),this.session=b,this.dialect=c,this.config={view:a}}static [aF]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}_prepare(a){return a8("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,a,!0))}prepare(a){return this._prepare(a)}authToken;setToken(a){return this.authToken=a,this}execute=a=>a8("drizzle.operation",()=>this._prepare().execute(a,this.authToken))}class eY{constructor(a,b,c){if(this.dialect=a,this.session=b,this._=c?{schema:c.schema,fullSchema:c.fullSchema,tableNamesMap:c.tableNamesMap,session:b}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:b},this.query={},this._.schema)for(const[d,e]of Object.entries(this._.schema))this.query[d]=new eU(c.fullSchema,this._.schema,this._.tableNamesMap,c.fullSchema[d],e,a,b);this.$cache={invalidate:async a=>{}}}static [aF]="PgDatabase";query;$with=(a,b)=>{let c=this;return{as:d=>("function"==typeof d&&(d=d(new eD(c.dialect))),new Proxy(new a7(d.getSQL(),b??("getSelectedFields"in d?d.getSelectedFields()??{}:{}),a,!0),new bG({alias:a,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(a,b){return new eT({source:a,filters:b,session:this.session})}$cache;with(...a){let b=this;return{select:function(c){return new es({fields:c??void 0,session:b.session,dialect:b.dialect,withList:a})},selectDistinct:function(c){return new es({fields:c??void 0,session:b.session,dialect:b.dialect,withList:a,distinct:!0})},selectDistinctOn:function(c,d){return new es({fields:d??void 0,session:b.session,dialect:b.dialect,withList:a,distinct:{on:c}})},update:function(c){return new eR(c,b.session,b.dialect,a)},insert:function(c){return new eP(c,b.session,b.dialect,a)},delete:function(c){return new eO(c,b.session,b.dialect,a)}}}select(a){return new es({fields:a??void 0,session:this.session,dialect:this.dialect})}selectDistinct(a){return new es({fields:a??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(a,b){return new es({fields:b??void 0,session:this.session,dialect:this.dialect,distinct:{on:a}})}update(a){return new eR(a,this.session,this.dialect)}insert(a){return new eP(a,this.session,this.dialect)}delete(a){return new eO(a,this.session,this.dialect)}refreshMaterializedView(a){return new eX(a,this.session,this.dialect)}authToken;execute(a){let b="string"==typeof a?bs.raw(a):a.getSQL(),c=this.dialect.sqlToQuery(b),d=this.session.prepareQuery(c,void 0,void 0,!1);return new eW(()=>d.execute(void 0,this.authToken),b,c,a=>d.mapResult(a,!0))}transaction(a,b){return this.session.transaction(a,b)}}class eZ{static [aF]="Cache"}class e$ extends eZ{strategy(){return"all"}static [aF]="NoopCache";async get(a){}async put(a,b,c,d){}async onMutate(a){}}async function e_(a,b){let c=`${a}-${JSON.stringify(b)}`,d=new TextEncoder().encode(c);return[...new Uint8Array(await crypto.subtle.digest("SHA-256",d))].map(a=>a.toString(16).padStart(2,"0")).join("")}class e0{constructor(a,b,c,d){this.query=a,this.cache=b,this.queryMetadata=c,this.cacheConfig=d,b&&"all"===b.strategy()&&void 0===d&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(a,b){return a}setToken(a){return this.authToken=a,this}static [aF]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(a,b,c){if(void 0===this.cache||aG(this.cache,e$)||void 0===this.queryMetadata||this.cacheConfig&&!this.cacheConfig.enable)try{return await c()}catch(c){throw new dW(a,b,c)}if(("insert"===this.queryMetadata.type||"update"===this.queryMetadata.type||"delete"===this.queryMetadata.type)&&this.queryMetadata.tables.length>0)try{let[a]=await Promise.all([c(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return a}catch(c){throw new dW(a,b,c)}if(!this.cacheConfig)try{return await c()}catch(c){throw new dW(a,b,c)}if("select"===this.queryMetadata.type){let d=await this.cache.get(this.cacheConfig.tag??await e_(a,b),this.queryMetadata.tables,void 0!==this.cacheConfig.tag,this.cacheConfig.autoInvalidate);if(void 0===d){let d;try{d=await c()}catch(c){throw new dW(a,b,c)}return await this.cache.put(this.cacheConfig.tag??await e_(a,b),d,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],void 0!==this.cacheConfig.tag,this.cacheConfig.config),d}return d}try{return await c()}catch(c){throw new dW(a,b,c)}}}class e1{constructor(a){this.dialect=a}static [aF]="PgSession";execute(a,b){return a8("drizzle.operation",()=>a8("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(a),void 0,void 0,!1)).setToken(b).execute(void 0,b))}all(a){return this.prepareQuery(this.dialect.sqlToQuery(a),void 0,void 0,!1).all()}async count(a,b){return Number((await this.execute(a,b))[0].count)}}class e2 extends eY{constructor(a,b,c,d=0){super(a,b,c),this.schema=c,this.nestedIndex=d}static [aF]="PgTransaction";rollback(){throw new dX}getTransactionConfigSQL(a){let b=[];return a.isolationLevel&&b.push(`isolation level ${a.isolationLevel}`),a.accessMode&&b.push(a.accessMode),"boolean"==typeof a.deferrable&&b.push(a.deferrable?"deferrable":"not deferrable"),bs.raw(b.join(" "))}setTransaction(a){return this.session.execute(bs`set transaction ${this.getTransactionConfigSQL(a)}`)}}class e3 extends e0{constructor(a,b,c,d,e,f,g,h,i,j){super({sql:b,params:c},e,f,g),this.client=a,this.queryString=b,this.params=c,this.logger=d,this.fields=h,this._isResponseInArrayMode=i,this.customResultMapper=j}static [aF]="PostgresJsPreparedQuery";async execute(a={}){return a8("drizzle.execute",async b=>{let c=bw(this.params,a);b?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(c)}),this.logger.logQuery(this.queryString,c);let{fields:d,queryString:e,client:f,joinsNotNullableMap:g,customResultMapper:h}=this;if(!d&&!h)return a8("drizzle.driver.execute",()=>this.queryWithCache(e,c,async()=>await f.unsafe(e,c)));let i=await a8("drizzle.driver.execute",()=>(b?.setAttributes({"drizzle.query.text":e,"drizzle.query.params":JSON.stringify(c)}),this.queryWithCache(e,c,async()=>await f.unsafe(e,c).values())));return a8("drizzle.mapResponse",()=>h?h(i):i.map(a=>(function(a,b,c){let d={},e=a.reduce((a,{path:e,field:f},g)=>{let h;h=aG(f,aL)?f:aG(f,bn)?f.decoder:aG(f,a6)?f._.sql.decoder:f.sql.decoder;let i=a;for(let[a,j]of e.entries())if(a<e.length-1)j in i||(i[j]={}),i=i[j];else{let a=b[g],k=i[j]=null===a?null:h.mapFromDriverValue(a);if(c&&aG(f,aL)&&2===e.length){let a=e[0];a in d?"string"==typeof d[a]&&d[a]!==f.table[aN]&&(d[a]=!1):d[a]=null===k&&f.table[aN]}}return a},{});if(c&&Object.keys(d).length>0)for(let[a,b]of Object.entries(d))"string"!=typeof b||c[b]||(e[a]=null);return e})(d,a,g)))})}all(a={}){return a8("drizzle.execute",async b=>{let c=bw(this.params,a);return b?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(c)}),this.logger.logQuery(this.queryString,c),a8("drizzle.driver.execute",()=>(b?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(c)}),this.queryWithCache(this.queryString,c,async()=>this.client.unsafe(this.queryString,c))))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}class e4 extends e1{constructor(a,b,c,d={}){super(b),this.client=a,this.schema=c,this.options=d,this.logger=d.logger??new aJ,this.cache=d.cache??new e$}static [aF]="PostgresJsSession";logger;cache;prepareQuery(a,b,c,d,e,f,g){return new e3(this.client,a.sql,a.params,this.logger,this.cache,f,g,b,d,e)}query(a,b){return this.logger.logQuery(a,b),this.client.unsafe(a,b).values()}queryObjects(a,b){return this.client.unsafe(a,b)}transaction(a,b){return this.client.begin(async c=>{let d=new e4(c,this.dialect,this.schema,this.options),e=new e5(this.dialect,d,this.schema);return b&&await e.setTransaction(b),a(e)})}}class e5 extends e2{constructor(a,b,c,d=0){super(a,b,c,d),this.session=b}static [aF]="PostgresJsTransaction";transaction(a){return this.session.client.savepoint(b=>{let c=new e4(b,this.dialect,this.schema,this.session.options);return a(new e5(this.dialect,c,this.schema))})}}class e6 extends eY{static [aF]="PostgresJsDatabase"}function e7(a,b={}){let c,d,e=a=>a;for(let b of["1184","1082","1083","1114","1182","1185","1115","1231"])a.options.parsers[b]=e,a.options.serializers[b]=e;a.options.serializers["114"]=e,a.options.serializers["3802"]=e;let f=new eq({casing:b.casing});if(!0===b.logger?c=new aI:!1!==b.logger&&(c=b.logger),b.schema){let a=function(a,b){1===Object.keys(a).length&&"default"in a&&!aG(a.default,bi)&&(a=a.default);let c={},d={},e={};for(let[f,g]of Object.entries(a))if(aG(g,bi)){let a=bj(g),b=d[a];for(let d of(c[a]=f,e[f]={tsName:f,dbName:g[bi.Symbol.Name],schema:g[bi.Symbol.Schema],columns:g[bi.Symbol.Columns],relations:b?.relations??{},primaryKey:b?.primaryKey??[]},Object.values(g[bi.Symbol.Columns])))d.primary&&e[f].primaryKey.push(d);let h=g[bi.Symbol.ExtraConfigBuilder]?.(g[bi.Symbol.ExtraConfigColumns]);if(h)for(let a of Object.values(h))aG(a,dO)&&e[f].primaryKey.push(...a.columns)}else if(aG(g,el)){let a,f=bj(g.table),h=c[f];for(let[c,i]of Object.entries(g.config(b(g.table))))if(h){let b=e[h];b.relations[c]=i,a&&b.primaryKey.push(...a)}else f in d||(d[f]={relations:{},primaryKey:a}),d[f].relations[c]=i}return{tables:e,tableNamesMap:c}}(b.schema,eo);d={fullSchema:b.schema,schema:a.tables,tableNamesMap:a.tableNamesMap}}let g=new e4(a,f,d,{logger:c,cache:b.cache}),h=new e6(f,g,d);return h.$client=a,h.$cache=b.cache,h.$cache&&(h.$cache.invalidate=b.cache?.onMutate),h}function e8(...a){if("string"==typeof a[0])return e7(aB(a[0]),a[1]);if(function(a){if("object"!=typeof a||null===a||"Object"!==a.constructor.name)return!1;if("logger"in a){let b=typeof a.logger;return"boolean"===b||"object"===b&&"function"==typeof a.logger.logQuery||"undefined"===b}if("schema"in a){let b=typeof a.schema;return"object"===b||"undefined"===b}if("casing"in a){let b=typeof a.casing;return"string"===b||"undefined"===b}if("mode"in a)return"default"===a.mode&&"planetscale"===a.mode&&void 0===a.mode;if("connection"in a){let b=typeof a.connection;return"string"===b||"object"===b||"undefined"===b}if("client"in a){let b=typeof a.client;return"object"===b||"function"===b||"undefined"===b}return 0===Object.keys(a).length}(a[0])){let{connection:b,client:c,...d}=a[0];if(c)return e7(c,d);if("object"==typeof b&&void 0!==b.url){let{url:a,...c}=b;return e7(aB(a,c),d)}return e7(aB(b),d)}return e7(a[0],a[1])}(e8||(e8={})).mock=function(a){return e7({options:{parsers:{},serializers:{}}},a)};let e9=dH("schools",{id:dn("id").primaryKey().defaultRandom(),name:dr("name",{length:255}).notNull(),slug:dr("slug",{length:100}).notNull().unique(),config:cv("config").$type().default({internshipDays:15,requireMinTwoCompanies:!0,modules:{expectations:!0,observations:!1,portfolio:!0,grading:!0},notifications:{enabled:!0,reminderDaysBefore:[7,2],escalationDaysAfter:1}}),address:dr("address",{length:500}),email:dr("email",{length:255}),phone:dr("phone",{length:50}),website:dr("website",{length:255}),logoUrl:dr("logo_url",{length:500}),emailProvider:dr("email_provider",{length:20}).default("resend"),smtpConfig:cv("smtp_config").$type(),isActive:b$("is_active").default(!0),createdAt:dk("created_at").defaultNow(),updatedAt:dk("updated_at").defaultNow()});a.s(["schools",0,e9],80074);let fa=a5("user_role",["super_admin","school_admin","teacher","student","company_user"]),fb=dH("users",{id:dn("id").primaryKey().defaultRandom(),name:dr("name",{length:255}).notNull(),email:dr("email",{length:255}).notNull(),emailVerified:b$("email_verified").default(!1),image:dr("image",{length:500}),createdAt:dk("created_at").defaultNow().notNull(),updatedAt:dk("updated_at").defaultNow().notNull(),username:dr("username",{length:100}).unique(),displayUsername:dr("display_username",{length:100}),schoolId:dn("school_id").references(()=>e9.id),firstName:dr("first_name",{length:100}).notNull(),lastName:dr("last_name",{length:100}).notNull(),role:fa("role").notNull().default("student"),isActive:b$("is_active").default(!0),lastLoginAt:dk("last_login_at")}),fc=dH("sessions",{id:dc("id").primaryKey(),userId:dn("user_id").notNull().references(()=>fb.id,{onDelete:"cascade"}),token:dr("token",{length:255}).notNull().unique(),expiresAt:dk("expires_at").notNull(),ipAddress:dr("ip_address",{length:45}),userAgent:dc("user_agent"),createdAt:dk("created_at").defaultNow().notNull(),updatedAt:dk("updated_at").defaultNow().notNull()}),fd=dH("accounts",{id:dn("id").primaryKey().defaultRandom(),userId:dn("user_id").notNull().references(()=>fb.id,{onDelete:"cascade"}),accountId:dr("account_id",{length:255}).notNull(),providerId:dr("provider_id",{length:255}).notNull(),accessToken:dc("access_token"),refreshToken:dc("refresh_token"),accessTokenExpiresAt:dk("access_token_expires_at"),refreshTokenExpiresAt:dk("refresh_token_expires_at"),scope:dr("scope",{length:500}),idToken:dc("id_token"),password:dr("password",{length:255}),createdAt:dk("created_at").defaultNow().notNull(),updatedAt:dk("updated_at").defaultNow().notNull()}),fe=dH("verifications",{id:dn("id").primaryKey().defaultRandom(),identifier:dr("identifier",{length:255}).notNull(),value:dr("value",{length:255}).notNull(),expiresAt:dk("expires_at").notNull(),createdAt:dk("created_at").defaultNow().notNull(),updatedAt:dk("updated_at").defaultNow().notNull()});a.s(["accounts",0,fd,"sessions",0,fc,"userRoleEnum",0,fa,"users",0,fb,"verifications",0,fe],67925);let ff=dH("students",{id:dn("id").primaryKey().defaultRandom(),userId:dn("user_id").notNull().references(()=>fb.id),schoolId:dn("school_id").notNull().references(()=>e9.id),classYear:dr("class_year",{length:20}),schoolYear:dr("school_year",{length:10}),primaryTeacherId:dn("primary_teacher_id").references(()=>fb.id),createdAt:dk("created_at").defaultNow(),updatedAt:dk("updated_at").defaultNow()}),fg=dH("student_teachers",{id:dn("id").primaryKey().defaultRandom(),studentId:dn("student_id").notNull().references(()=>ff.id),teacherId:dn("teacher_id").notNull().references(()=>fb.id),role:dr("role",{length:50}),assignedAt:dk("assigned_at").defaultNow()});a.s(["studentTeachers",0,fg,"students",0,ff],52819);let fh=dH("companies",{id:dn("id").primaryKey().defaultRandom(),schoolId:dn("school_id").notNull().references(()=>e9.id),name:dr("name",{length:255}).notNull(),industry:dr("industry",{length:100}),street:dr("street",{length:255}),zip:dr("zip",{length:10}),city:dr("city",{length:100}),latitude:cN("latitude",{precision:10,scale:7}),longitude:cN("longitude",{precision:10,scale:7}),phone:dr("phone",{length:50}),email:dr("email",{length:255}),website:dr("website",{length:255}),inPool:b$("in_pool").default(!1),poolOptInAt:dk("pool_opt_in_at"),totalInternships:cm("total_internships").default(0),createdAt:dk("created_at").defaultNow(),updatedAt:dk("updated_at").defaultNow()}),fi=dH("company_contacts",{id:dn("id").primaryKey().defaultRandom(),companyId:dn("company_id").notNull().references(()=>fh.id),userId:dn("user_id").references(()=>fb.id),firstName:dr("first_name",{length:100}).notNull(),lastName:dr("last_name",{length:100}).notNull(),position:dr("position",{length:100}),phone:dr("phone",{length:50}),email:dr("email",{length:255}),isPrimary:b$("is_primary").default(!1),createdAt:dk("created_at").defaultNow()}),fj=dH("company_reviews",{id:dn("id").primaryKey().defaultRandom(),companyId:dn("company_id").notNull().references(()=>fh.id),internshipId:dn("internship_id").notNull(),wouldRecommend:b$("would_recommend"),supervisionRating:cm("supervision_rating"),learningRating:cm("learning_rating"),atmosphereRating:cm("atmosphere_rating"),comment:dc("comment"),createdAt:dk("created_at").defaultNow()});a.s(["companies",0,fh,"companyContacts",0,fi,"companyReviews",0,fj],44887);let fk=a5("internship_status",["draft","searching","confirmed","in_progress","completed","incomplete"]),fl=dH("internships",{id:dn("id").primaryKey().defaultRandom(),studentId:dn("student_id").notNull().references(()=>ff.id),schoolId:dn("school_id").notNull().references(()=>e9.id),requiredDays:cm("required_days").notNull(),status:fk("status").default("draft"),completedDays:cm("completed_days").default(0),missedDays:cm("missed_days").default(0),finalGrade:dr("final_grade",{length:10}),gradedAt:dk("graded_at"),gradedBy:dn("graded_by").references(()=>fb.id),certificateGeneratedAt:dk("certificate_generated_at"),certificateUrl:dr("certificate_url",{length:500}),createdAt:dk("created_at").defaultNow(),updatedAt:dk("updated_at").defaultNow()}),fm=dH("internship_blocks",{id:dn("id").primaryKey().defaultRandom(),internshipId:dn("internship_id").notNull().references(()=>fl.id),companyId:dn("company_id").notNull().references(()=>fh.id),contactId:dn("contact_id").references(()=>fi.id),startDate:cd("start_date").notNull(),endDate:cd("end_date").notNull(),plannedDays:cm("planned_days").notNull(),contractStatus:dr("contract_status",{length:20}).default("pending"),contractUrl:dr("contract_url",{length:500}),signedContractUrl:dr("signed_contract_url",{length:500}),visitScheduledAt:dk("visit_scheduled_at"),visitCompletedAt:dk("visit_completed_at"),visitNotes:dc("visit_notes"),createdAt:dk("created_at").defaultNow()}),fn=dH("time_entries",{id:dn("id").primaryKey().defaultRandom(),blockId:dn("block_id").notNull().references(()=>fm.id),date:cd("date").notNull(),studentConfirmed:b$("student_confirmed").default(!1),studentConfirmedAt:dk("student_confirmed_at"),companyConfirmed:b$("company_confirmed").default(!1),companyConfirmedAt:dk("company_confirmed_at"),checkInTime:df("check_in_time"),checkOutTime:df("check_out_time"),notes:dc("notes"),createdAt:dk("created_at").defaultNow()}),fo=dH("sick_leaves",{id:dn("id").primaryKey().defaultRandom(),blockId:dn("block_id").notNull().references(()=>fm.id),startDate:cd("start_date").notNull(),endDate:cd("end_date").notNull(),days:cm("days").notNull(),hasAttest:b$("has_attest").default(!1),attestUrl:dr("attest_url",{length:500}),attestUploadedAt:dk("attest_uploaded_at"),makeUpRequired:b$("make_up_required").default(!0),madeUpDays:cm("made_up_days").default(0),createdAt:dk("created_at").defaultNow()}),fp=dH("reports",{id:dn("id").primaryKey().defaultRandom(),blockId:dn("block_id").notNull().references(()=>fm.id),reportDate:cd("report_date").notNull(),reportType:dr("report_type",{length:10}).default("daily"),content:dc("content").notNull(),companyApproved:b$("company_approved").default(!1),companyApprovedAt:dk("company_approved_at"),teacherReviewed:b$("teacher_reviewed").default(!1),teacherComment:dc("teacher_comment"),createdAt:dk("created_at").defaultNow(),updatedAt:dk("updated_at").defaultNow()});a.s(["internshipBlocks",0,fm,"internshipStatusEnum",0,fk,"internships",0,fl,"reports",0,fp,"sickLeaves",0,fo,"timeEntries",0,fn],57095);let fq=dH("milestones",{id:dn("id").primaryKey().defaultRandom(),internshipId:dn("internship_id").notNull().references(()=>fl.id),type:dr("type",{length:50}).notNull(),title:dr("title",{length:255}).notNull(),description:dc("description"),dueDate:cd("due_date"),isCompleted:b$("is_completed").default(!1),completedAt:dk("completed_at"),documentIds:cv("document_ids").$type().default([]),remindersSent:cv("reminders_sent").$type().default([]),createdAt:dk("created_at").defaultNow()});a.s(["milestones",0,fq],99708);let fr=dH("assessments",{id:dn("id").primaryKey().defaultRandom(),internshipId:dn("internship_id").notNull().references(()=>fl.id),blockId:dn("block_id").references(()=>fm.id),assessorType:dr("assessor_type",{length:20}).notNull(),assessorId:dn("assessor_id").references(()=>fb.id),ratings:cv("ratings").$type().notNull(),strengths:dc("strengths"),improvements:dc("improvements"),comments:dc("comments"),wouldRecommend:dr("would_recommend",{length:20}),submittedAt:dk("submitted_at").defaultNow()});a.s(["assessments",0,fr],2722);let fs=dH("documents",{id:dn("id").primaryKey().defaultRandom(),schoolId:dn("school_id").notNull().references(()=>e9.id),internshipId:dn("internship_id").references(()=>fl.id),blockId:dn("block_id").references(()=>fm.id),studentId:dn("student_id").references(()=>ff.id),type:dr("type",{length:50}).notNull(),fileName:dr("file_name",{length:255}).notNull(),fileSize:cm("file_size"),mimeType:dr("mime_type",{length:100}),storageUrl:dr("storage_url",{length:500}).notNull(),uploadedBy:dn("uploaded_by").references(()=>fb.id),createdAt:dk("created_at").defaultNow()});a.s(["documents",0,fs],94821);let ft=dH("notifications",{id:dn("id").primaryKey().defaultRandom(),userId:dn("user_id").notNull().references(()=>fb.id),type:dr("type",{length:50}).notNull(),title:dr("title",{length:255}).notNull(),message:dc("message"),relatedType:dr("related_type",{length:50}),relatedId:dn("related_id"),isRead:b$("is_read").default(!1),readAt:dk("read_at"),pushSentAt:dk("push_sent_at"),emailSentAt:dk("email_sent_at"),createdAt:dk("created_at").defaultNow()}),fu=dH("push_subscriptions",{id:dn("id").primaryKey().defaultRandom(),userId:dn("user_id").notNull().references(()=>fb.id),endpoint:dc("endpoint").notNull(),p256dh:dc("p256dh").notNull(),auth:dc("auth").notNull(),userAgent:dr("user_agent",{length:500}),createdAt:dk("created_at").defaultNow()});a.s(["notifications",0,ft,"pushSubscriptions",0,fu],55828);let fv=dH("audit_logs",{id:dn("id").primaryKey().defaultRandom(),schoolId:dn("school_id").references(()=>e9.id),userId:dn("user_id").references(()=>fb.id),action:dr("action",{length:20}).notNull(),entityType:dr("entity_type",{length:50}).notNull(),entityId:dn("entity_id").notNull(),oldValues:cv("old_values"),newValues:cv("new_values"),ipAddress:dr("ip_address",{length:45}),userAgent:dr("user_agent",{length:500}),createdAt:dk("created_at").defaultNow()});a.s(["auditLogs",0,fv],57895),a.s([],14683),a.i(14683),a.i(80074),a.i(67925),a.i(52819),a.i(44887),a.i(57095),a.i(99708),a.i(2722),a.i(94821),a.i(55828),a.i(57895),a.s(["accounts",0,fd,"assessments",0,fr,"auditLogs",0,fv,"companies",0,fh,"companyContacts",0,fi,"companyReviews",0,fj,"documents",0,fs,"internshipBlocks",0,fm,"internshipStatusEnum",0,fk,"internships",0,fl,"milestones",0,fq,"notifications",0,ft,"pushSubscriptions",0,fu,"reports",0,fp,"schools",0,e9,"sessions",0,fc,"sickLeaves",0,fo,"studentTeachers",0,fg,"students",0,ff,"timeEntries",0,fn,"userRoleEnum",0,fa,"users",0,fb,"verifications",0,fe],60606);var fw=a.i(60606);let fx=e8(aB(process.env.DATABASE_URL),{schema:fw});a.s(["db",0,fx],22028)}];

//# sourceMappingURL=node_modules_lucide-react_dist_esm_icons_plus_d9e54729.js.map