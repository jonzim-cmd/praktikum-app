(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},98183,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={assign:function(){return i},searchParamsToUrlQuery:function(){return o},urlQueryToSearchParams:function(){return s}};for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]});function o(e){let r={};for(let[t,n]of e.entries()){let e=r[t];void 0===e?r[t]=n:Array.isArray(e)?e.push(n):r[t]=[e,n]}return r}function l(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let r=new URLSearchParams;for(let[t,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)r.append(t,l(e));else r.set(t,l(n));return r}function i(e,...r){for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,n]of t.entries())e.append(r,n)}return e}},95057,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={formatUrl:function(){return s},formatWithValidation:function(){return u},urlObjectKeys:function(){return i}};for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]});let o=e.r(90809)._(e.r(98183)),l=/https?|ftp|gopher|file/;function s(e){let{auth:r,hostname:t}=e,n=e.protocol||"",a=e.pathname||"",s=e.hash||"",i=e.query||"",u=!1;r=r?encodeURIComponent(r).replace(/%3A/i,":")+"@":"",e.host?u=r+e.host:t&&(u=r+(~t.indexOf(":")?`[${t}]`:t),e.port&&(u+=":"+e.port)),i&&"object"==typeof i&&(i=String(o.urlQueryToSearchParams(i)));let c=e.search||i&&`?${i}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||l.test(n))&&!1!==u?(u="//"+(u||""),a&&"/"!==a[0]&&(a="/"+a)):u||(u=""),s&&"#"!==s[0]&&(s="#"+s),c&&"?"!==c[0]&&(c="?"+c),a=a.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${n}${u}${a}${c}${s}`}let i=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function u(e){return s(e)}},18581,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return a}});let n=e.r(71645);function a(e,r){let t=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=t.current;e&&(t.current=null,e());let r=a.current;r&&(a.current=null,r())}else e&&(t.current=o(e,n)),r&&(a.current=o(r,n))},[e,r])}function o(e,r){if("function"!=typeof e)return e.current=r,()=>{e.current=null};{let t=e(r);return"function"==typeof t?t:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),r.exports=t.default)},18967,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return j},NormalizeError:function(){return x},PageNotFoundError:function(){return y},SP:function(){return p},ST:function(){return b},WEB_VITALS:function(){return o},execOnce:function(){return l},getDisplayName:function(){return d},getLocationOrigin:function(){return u},getURL:function(){return c},isAbsoluteUrl:function(){return i},isResSent:function(){return f},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return k}};for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]});let o=["CLS","FCP","FID","INP","LCP","TTFB"];function l(e){let r,t=!1;return(...n)=>(t||(t=!0,r=e(...n)),r)}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=e=>s.test(e);function u(){let{protocol:e,hostname:r,port:t}=window.location;return`${e}//${r}${t?":"+t:""}`}function c(){let{href:e}=window.location,r=u();return e.substring(r.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function h(e){let r=e.split("?");return r[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(r[1]?`?${r.slice(1).join("?")}`:"")}async function m(e,r){let t=r.res||r.ctx&&r.ctx.res;if(!e.getInitialProps)return r.ctx&&r.Component?{pageProps:await m(r.Component,r.ctx)}:{};let n=await e.getInitialProps(r);if(t&&f(t))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let p="undefined"!=typeof performance,b=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class x extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class j extends Error{constructor(e,r){super(),this.message=`Failed to load static file for page: ${e} ${r}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function k(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return o}});let n=e.r(18967),a=e.r(52817);function o(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let r=(0,n.getLocationOrigin)(),t=new URL(e,r);return t.origin===r&&(0,a.hasBasePath)(t.pathname)}catch(e){return!1}}},84508,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},22016,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={default:function(){return g},useLinkStatus:function(){return y}};for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]});let o=e.r(90809),l=e.r(43476),s=o._(e.r(71645)),i=e.r(95057),u=e.r(8372),c=e.r(18581),d=e.r(18967),f=e.r(5550);e.r(33525);let h=e.r(91949),m=e.r(73668),p=e.r(9396);function b(e){return"string"==typeof e?e:(0,i.formatUrl)(e)}function g(r){var t;let n,a,o,[i,g]=(0,s.useOptimistic)(h.IDLE_LINK_STATUS),y=(0,s.useRef)(null),{href:j,as:v,children:k,prefetch:N=null,passHref:w,replace:P,shallow:M,scroll:_,onClick:E,onMouseEnter:O,onTouchStart:C,legacyBehavior:S=!1,onNavigate:L,ref:A,unstable_dynamicOnHover:R,...T}=r;n=k,S&&("string"==typeof n||"number"==typeof n)&&(n=(0,l.jsx)("a",{children:n}));let $=s.default.useContext(u.AppRouterContext),B=!1!==N,U=!1!==N?null===(t=N)||"auto"===t?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:z,as:I}=s.default.useMemo(()=>{let e=b(j);return{href:e,as:v?b(v):e}},[j,v]);if(S){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=s.default.Children.only(n)}let D=S?a&&"object"==typeof a&&a.ref:A,F=s.default.useCallback(e=>(null!==$&&(y.current=(0,h.mountLinkInstance)(e,z,$,U,B,g)),()=>{y.current&&((0,h.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,h.unmountPrefetchableInstance)(e)}),[B,z,$,U,g]),H={ref:(0,c.useMergedRef)(F,D),onClick(r){S||"function"!=typeof E||E(r),S&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(r),!$||r.defaultPrevented||function(r,t,n,a,o,l,i){if("undefined"!=typeof window){let u,{nodeName:c}=r.currentTarget;if("A"===c.toUpperCase()&&((u=r.currentTarget.getAttribute("target"))&&"_self"!==u||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey||r.nativeEvent&&2===r.nativeEvent.which)||r.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(t)){o&&(r.preventDefault(),location.replace(t));return}if(r.preventDefault(),i){let e=!1;if(i({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(99781);s.default.startTransition(()=>{d(n||t,o?"replace":"push",l??!0,a.current)})}}(r,z,I,y,P,_,L)},onMouseEnter(e){S||"function"!=typeof O||O(e),S&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),$&&B&&(0,h.onNavigationIntent)(e.currentTarget,!0===R)},onTouchStart:function(e){S||"function"!=typeof C||C(e),S&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),$&&B&&(0,h.onNavigationIntent)(e.currentTarget,!0===R)}};return(0,d.isAbsoluteUrl)(I)?H.href=I:S&&!w&&("a"!==a.type||"href"in a.props)||(H.href=(0,f.addBasePath)(I)),o=S?s.default.cloneElement(a,H):(0,l.jsx)("a",{...T,...H,children:n}),(0,l.jsx)(x.Provider,{value:i,children:o})}e.r(84508);let x=(0,s.createContext)(h.IDLE_LINK_STATUS),y=()=>(0,s.useContext)(x);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),r.exports=t.default)},75254,e=>{"use strict";var r=e.i(71645);let t=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},n=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:s="",children:i,iconNode:u,...c},d)=>(0,r.createElement)("svg",{ref:d,...a,width:t,height:t,stroke:e,strokeWidth:l?24*Number(o)/Number(t):o,className:n("lucide",s),...!i&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(c)&&{"aria-hidden":"true"},...c},[...u.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(i)?i:[i]])),l=(e,a)=>{let l=(0,r.forwardRef)(({className:l,...s},i)=>(0,r.createElement)(o,{ref:i,iconNode:a,className:n(`lucide-${t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...s}));return l.displayName=t(e),l};e.s(["default",()=>l],75254)},16370,e=>{"use strict";var r=e.i(43476),t=e.i(18566),n=e.i(99075),a=e.i(71645),o=e.i(22016),l=e.i(75254);let s=(0,l.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),i=(0,l.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),u=(0,l.default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),c=(0,l.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),d=(0,l.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),f=(0,l.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h=(0,l.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),m=(0,l.default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);e.i(79121);var p=e.i(49838);let b={student:[{href:"/schueler",label:"Dashboard",icon:s},{href:"/schueler/praktikum",label:"Mein Praktikum",icon:c},{href:"/schueler/berichte",label:"Berichte",icon:c},{href:"/schueler/einstellungen",label:"Einstellungen",icon:f}],teacher:[{href:"/lehrer",label:"Dashboard",icon:s},{href:"/lehrer/schueler",label:"Meine Schüler",icon:i},{href:"/lehrer/betriebe",label:"Betriebe",icon:u},{href:"/lehrer/besuche",label:"Besuche",icon:d},{href:"/lehrer/einstellungen",label:"Einstellungen",icon:f}],company:[{href:"/betrieb",label:"Dashboard",icon:s},{href:"/betrieb/praktikanten",label:"Praktikanten",icon:i},{href:"/betrieb/einstellungen",label:"Einstellungen",icon:f}],admin:[{href:"/admin",label:"Dashboard",icon:s},{href:"/admin/schulen",label:"Schulen",icon:m},{href:"/admin/benutzer",label:"Benutzer",icon:i},{href:"/admin/betriebe",label:"Betriebe",icon:u},{href:"/admin/einstellungen",label:"Einstellungen",icon:f}]};function g({role:e}){let n=(0,t.usePathname)(),[l,s]=(0,a.useState)(!1),i=b[e];return(0,r.jsxs)("aside",{className:(0,p.cn)("hidden md:flex flex-col h-screen bg-background-subtle border-r border-border transition-all duration-300",l?"w-16":"w-64"),children:[(0,r.jsx)("div",{className:"flex items-center h-16 px-4 border-b border-border",children:(0,r.jsxs)(o.default,{href:"/",className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground font-bold",children:"P"}),!l&&(0,r.jsx)("span",{className:"font-display font-semibold text-foreground",children:"Praktikum"})]})}),(0,r.jsx)("nav",{className:"flex-1 overflow-y-auto py-4",children:(0,r.jsx)("ul",{className:"space-y-1 px-2",children:i.map(e=>{let t=n===e.href||n.startsWith(`${e.href}/`);return(0,r.jsx)("li",{children:(0,r.jsxs)(o.default,{href:e.href,className:(0,p.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",t?"bg-primary text-primary-foreground":"text-foreground-muted hover:bg-background-muted hover:text-foreground"),children:[(0,r.jsx)(e.icon,{className:"h-5 w-5 flex-shrink-0"}),!l&&(0,r.jsx)("span",{children:e.label})]})},e.href)})})}),(0,r.jsx)("div",{className:"border-t border-border p-2",children:(0,r.jsx)("button",{onClick:()=>s(!l),className:"flex w-full items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm text-foreground-muted hover:bg-background-muted hover:text-foreground transition-colors",children:(0,r.jsx)(h,{className:(0,p.cn)("h-5 w-5 transition-transform",l&&"rotate-180")})})})]})}let x=(0,l.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),y={student:[{href:"/schueler",label:"Home",icon:s},{href:"/schueler/praktikum",label:"Praktikum",icon:c},{href:"/schueler/berichte",label:"Berichte",icon:c},{href:"/schueler/einstellungen",label:"Mehr",icon:f}],teacher:[{href:"/lehrer",label:"Home",icon:s},{href:"/lehrer/schueler",label:"Schüler",icon:i},{href:"/lehrer/betriebe",label:"Betriebe",icon:u},{href:"/lehrer/besuche",label:"Besuche",icon:d}],company:[{href:"/betrieb",label:"Home",icon:s},{href:"/betrieb/praktikanten",label:"Praktikanten",icon:i},{href:"/betrieb/einstellungen",label:"Mehr",icon:f}],admin:[{href:"/admin",label:"Home",icon:s},{href:"/admin/schulen",label:"Schulen",icon:m},{href:"/admin/benutzer",label:"Benutzer",icon:i},{href:"/admin/betriebe",label:"Betriebe",icon:u}]};function j({role:e}){let n=(0,t.usePathname)(),a=y[e];return(0,r.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border bg-background-subtle md:hidden",children:(0,r.jsx)("ul",{className:"flex items-center justify-around h-16",children:a.map(e=>{let t=n===e.href||n.startsWith(`${e.href}/`);return(0,r.jsx)("li",{children:(0,r.jsxs)(o.default,{href:e.href,className:(0,p.cn)("flex flex-col items-center justify-center gap-1 px-3 py-2 text-xs transition-colors",t?"text-primary":"text-foreground-muted hover:text-foreground"),children:[(0,r.jsx)(e.icon,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:e.label})]})},e.href)})})})}function v({title:e="Praktikum",showMenu:t,onMenuClick:n}){return(0,r.jsxs)("header",{className:"sticky top-0 z-40 flex h-14 items-center gap-4 border-b border-border bg-background-subtle px-4 md:hidden",children:[t&&(0,r.jsxs)("button",{onClick:n,className:"flex h-10 w-10 items-center justify-center rounded-lg text-foreground-muted hover:bg-background-muted hover:text-foreground transition-colors",children:[(0,r.jsx)(x,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Menü öffnen"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground font-bold",children:"P"}),(0,r.jsx)("span",{className:"font-display font-semibold text-foreground",children:e})]})]})}let k=(0,l.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),N=(0,l.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),w={super_admin:"Super Admin",school_admin:"Schul-Admin",teacher:"Lehrkraft",student:"Schüler",company_user:"Betrieb"};function P({user:e,onLogout:t}){let[n,l]=(0,a.useState)(!1),s=(0,a.useRef)(null);(0,a.useEffect)(()=>{function e(e){s.current&&!s.current.contains(e.target)&&l(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let i=`${e.firstName.charAt(0)}${e.lastName.charAt(0)}`.toUpperCase();return(0,r.jsxs)("div",{className:"relative",ref:s,children:[(0,r.jsxs)("button",{onClick:()=>l(!n),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-colors hover:bg-background-muted",children:[(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium",children:i}),(0,r.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,r.jsxs)("p",{className:"font-medium text-foreground",children:[e.firstName," ",e.lastName]}),(0,r.jsx)("p",{className:"text-xs text-foreground-muted",children:w[e.role]||e.role})]}),(0,r.jsx)(N,{className:(0,p.cn)("h-4 w-4 text-foreground-muted transition-transform",n&&"rotate-180")})]}),n&&(0,r.jsx)("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-lg border border-border bg-background-subtle shadow-lg animate-[scaleIn_0.2s_ease-out]",children:(0,r.jsxs)("div",{className:"p-2",children:[(0,r.jsxs)("div",{className:"px-3 py-2 border-b border-border mb-2",children:[(0,r.jsxs)("p",{className:"font-medium text-foreground",children:[e.firstName," ",e.lastName]}),(0,r.jsx)("p",{className:"text-xs text-foreground-muted",children:w[e.role]||e.role})]}),(0,r.jsxs)(o.default,{href:"/einstellungen",onClick:()=>l(!1),className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-foreground-muted hover:bg-background-muted hover:text-foreground transition-colors",children:[(0,r.jsx)(f,{className:"h-4 w-4"}),"Einstellungen"]}),(0,r.jsxs)("button",{onClick:()=>{l(!1),t()},className:"flex w-full items-center gap-2 rounded-md px-3 py-2 text-sm text-foreground-muted hover:bg-background-muted hover:text-foreground transition-colors",children:[(0,r.jsx)(k,{className:"h-4 w-4"}),"Abmelden"]})]})})]})}function M({children:e,role:t,user:n,title:a,onLogout:o}){return(0,r.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,r.jsx)(g,{role:t}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,r.jsx)(v,{title:a}),(0,r.jsxs)("header",{className:"hidden md:flex h-16 items-center justify-between border-b border-border bg-background-subtle px-6",children:[(0,r.jsx)("h1",{className:"font-display text-lg font-semibold text-foreground",children:a||"Dashboard"}),(0,r.jsx)(P,{user:n,onLogout:o})]}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto p-4 pb-20 md:p-6 md:pb-6",children:e}),(0,r.jsx)(j,{role:t})]})]})}function _({children:e}){let a=(0,t.useRouter)(),{data:o,isPending:l}=(0,n.useSession)(),s=async()=>{await (0,n.signOut)(),a.push("/login"),a.refresh()};if(l)return(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,r.jsx)("p",{className:"text-foreground-muted",children:"Laden..."})]})});let i=o?.user?{firstName:o.user.firstName||"Benutzer",lastName:o.user.lastName||"",role:o.user.role||"student"}:{firstName:"Benutzer",lastName:"",role:"student"},u=function(e){switch(e){case"super_admin":case"school_admin":return"admin";case"teacher":return"teacher";case"company_user":return"company";default:return"student"}}(i.role);return(0,r.jsx)(M,{role:u,user:i,title:"Dashboard",onLogout:s,children:e})}e.s(["default",()=>_],16370)}]);